<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous"/><link href="https://use.fontawesome.com/releases/v5.15.1/css/all.css" rel="stylesheet"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&amp;display=swap"/><meta name="next-head-count" content="5"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/css/78e95eee04922cdbbcf6.css" as="style"/><link rel="stylesheet" href="/SSZ-Simpleserialize/_next/static/css/78e95eee04922cdbbcf6.css" data-n-g=""/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/css/f34f79b5fc3b3ec3ac62.css" as="style"/><link rel="stylesheet" href="/SSZ-Simpleserialize/_next/static/css/f34f79b5fc3b3ec3ac62.css" data-n-g=""/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/css/a28103e196b8ae4e74f1.css" as="style"/><link rel="stylesheet" href="/SSZ-Simpleserialize/_next/static/css/a28103e196b8ae4e74f1.css" data-n-p=""/><noscript data-n-css=""></noscript><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/webpack-5dd95c85d3a9aa86b57a.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/framework-5ca6b2fc774362eae352.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/679-64d355c62922b7e557b7.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/778-f7da0898f16776c961fa.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/main-b585fbee1813a2c23693.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/723-7930b78c5f6cd3b643bb.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/168-cab4f03cc2887b280c77.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/549-f4b5e9dc3df62febb2ea.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/pages/_app-239eacba429f2e007d2e.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/986-f8942b1674516fcd3903.js" as="script"/><link rel="preload" href="/SSZ-Simpleserialize/_next/static/chunks/pages/overview/%5Bid%5D-10591d769e17fd787eaf.js" as="script"/><style data-href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfBBc-.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:300;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmSU5fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:500;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmEU9fBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfCRc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfABc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfCBc4AMP6lbBP.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfBxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfCxc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfChc4AMP6lbBP.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:700;font-display:swap;src:url(https://fonts.gstatic.com/s/roboto/v27/KFOlCnqEu92Fr1MmWUlfBBc4AMP6lQ.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body><div id="__next"><style data-emotion="css-global 1v5hfar">html,body{padding:3rem 1rem;margin:0;min-height:100%;background-color:rgb(20,20,20);color:rgb(200,200,200);font-family:sans-serif;font-size:1rem;}a{color:white;-webkit-text-decoration:none;text-decoration:none;}code{color:white;}text{color:rbg(200, 200, 250);}section{padding:1rem;}h1{color:rgb(250,250,250);}h2{color:rgb(220,220,230);}h3{color:rgb(210,210,230);}h4{color:rgb(190,190,220);}h5{color:rgb(190,190,195);}h6{color:rgb(200,200,220);}p{color:rgb(210,210,240);}li{color:rgb(220,220,230);}td{color:white;}th{color:rgb(50,100,250);}</style><div class="container"><div class="d-flex"><div class="row fixed-top "><div class="col"><div class="row"><div class="container-fluid"><nav class="navbar navbar-expand-lg navbar-dark bg-dark" collapseonselect="true" expand="lg" bg="dark" variant="dark"><div class="row"><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarNavDropdown"><a class="navbar-brand" href="./">SSZ</a><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item"><a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" id="Documentation" aria-expanded="false">Documentation</a><ul class="dropdown-menu" aria-labelledby="Documentation"><li><a href="/SSZ-Simpleserialize/specs"> <!-- -->Specs</a></li><li><a href="/SSZ-Simpleserialize/merkle-proofs"> <!-- -->Merkle Proofs</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" id="Overview" aria-expanded="false">Overview</a><ul class="dropdown-menu" aria-labelledby="Overview"><li><a href="/SSZ-Simpleserialize/overview/overview"> <!-- -->Introduction</a></li><li><a href="/SSZ-Simpleserialize/overview/Typing"> <!-- -->Typing</a></li><li><a href="/SSZ-Simpleserialize/overview/Serialization"> <!-- -->Serialization</a></li><li><a href="/SSZ-Simpleserialize/overview/Deserialization"> <!-- -->Deserialization</a></li><li><a href="/SSZ-Simpleserialize/overview/Merkleization"> <!-- -->Merkleization</a></li><li><a href="/SSZ-Simpleserialize/overview/merkle"> <!-- -->Merkle Proofs</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" role="button" data-bs-toggle="dropdown" id="Implementations" aria-expanded="false">Implementations</a><ul class="dropdown-menu" aria-labelledby="Implementations"><li><a href="/SSZ-Simpleserialize/implementations/python"> <!-- -->Python</a></li><li><a href="/SSZ-Simpleserialize/implementations/typescript"> <!-- -->TypeScript</a></li><li><a href="/SSZ-Simpleserialize/implementations/go"> <!-- -->Go</a></li><li><a href="/SSZ-Simpleserialize/implementations/dafny"> <!-- -->Dafny</a></li><li><a href="/SSZ-Simpleserialize/implementations/java"> <!-- -->Java</a></li><li><a href="/SSZ-Simpleserialize/implementations/nim"> <!-- -->Nim</a></li><li><a href="/SSZ-Simpleserialize/implementations/csharp"> <!-- -->C#</a></li><li><a href="/SSZ-Simpleserialize/implementations/zig"> <!-- -->Zig</a></li><li><a href="/SSZ-Simpleserialize/implementations/rust"> <!-- -->Rust</a></li><li><a href="/SSZ-Simpleserialize/implementations/swift"> <!-- -->Swift</a></li></ul></li><a href="https://github.com/scottypoi/ssz-simpleserialize" style="position:absolute;right:0;top:0"><img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_orange_ff7600.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"/></a></ul></div></div></nav></div></div></div></div><div class="container"><div class="d-flex row justify-content-between position-relative d-none d-sm-block"><div class="col-2 justify-content-start position-fixed top-10 start-0 " style="z-index:1"><nav class="nav align-items-stretch"><div><div class="nav flex-column nav-expand-lg" id="navbarSupportedContent"><div class="row justify-content-center">Site Map</div><div class="row "><div class="d-flex flex-column  navbar-nav-scroll NavBar_nonavbar__mWkf4" style="scrollbar-width:0"><ul class="navbar-nav"><div class="d-flex flex-row"><li><a class="NavBar_sitemap1__3yDNX" href="/SSZ-Simpleserialize">Home</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap1__3yDNX" href="/SSZ-Simpleserialize/documentation">Documentation</a><ul class="navbar-nav"><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/specs">Specs</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/merkle-proofs">Merkle Proofs</a></li></div></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap1__3yDNX" href="/SSZ-Simpleserialize/overview/overview">Overview</a><ul class="navbar-nav"><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/overview"> <!-- -->Introduction<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Development"> <!-- -->Development<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/sszineth2"> <!-- -->SSZ in Eth2<!-- --> </a></li></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/Typing"> <!-- -->Typing<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/basic"> <!-- -->Basic Types<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Composite_Types"> <!-- -->Composite Types<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/bitfields"> <!-- -->Bitfields<!-- --> </a></li></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/Serialization"> <!-- -->Serialization<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Simple_Objects"> <!-- -->Simple Objects<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Composite_Objects"> <!-- -->Composite Objects<!-- --> </a></li></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/Deserialization"> <!-- -->Deserialization<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Fixed_Size_Objects"> <!-- -->Fixed-Size Objects<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/Variable_Size_Objects"> <!-- -->Variable-Size Objects<!-- --> </a></li></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/Merkleization"> <!-- -->Merkleization<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/hashing"> <!-- -->Hashing<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/chunking"> <!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/merkleize"> <!-- -->Merkleize<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/merkleize_helper_functions"> <!-- -->Merkleize Helper Functions<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/hash_tree_root"> <!-- -->hash_tree_root<!-- --> </a></li></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/overview/merkle"> <!-- -->Merkle Proofs<!-- --> </a><ul class="navbar-nav"><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/merkle_proof_helper_functions"> <!-- -->Helper Functions<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/generalized_indices"> <!-- -->Generalized Merkle Tree Indices<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/ssz_object_to_index"> <!-- -->SSZ object to index<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/helpers_for_generalized_indices"> <!-- -->Helpers for generalized_indices<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/merkle_multiproofs"> <!-- -->Merkle Multiproofs<!-- --> </a></li><li class="d-flex flex-row"><a class="NavBar_sitemap3__2hayE" href="/SSZ-Simpleserialize/overview/summaries_expansions"> <!-- -->Summaries and Expansions<!-- --> </a></li></ul></li></div></ul></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap1__3yDNX" href="/SSZ-Simpleserialize/implementations/home">Implementations</a><ul class="navbar-nav"><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/python">Python</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/typescript">TypeScript</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/go">Go</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/dafny">Dafny</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/java">Java</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/nim">Nim</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/csharp">C#</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/zig">Zig</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/rust">Rust</a></li></div><div class="d-flex flex-row"><li><a class="NavBar_sitemap2__iCMGQ" href="/SSZ-Simpleserialize/implementations/swift">Swift</a></li></div></ul></li></div></ul></div></div></div></div></nav></div></div><div class="d-flex row position-static justify-content-xs-start justify-content-sm-around"><div class="col-12 col-sm-10" style="z-index:0"><div class="container"><div class="row justify-content-center"><div class="col-12 col-sm-10"><div align='center' id='Merkle%Multiproofs'>
<h1>Merkle Multiproofs</h1>
<p>We define a <strong><code>Merkle Multiproof</code></strong> as:</p>
</div>
<div align='start'>
<p>The minimal subset of nodes in a Merkle tree needed to fully authenticate that a set of nodes actually are:</p>
<ul>
<li>Part of a Merkle tree
<ul>
<li>With some specified root,</li>
<li>At a particular set of generalized indices.</li>
</ul>
</li>
</ul>
</div>
<div align='center'>
<p><strong><em>TODO: VISUALIZE MERKLE MULTIPROOF</em></strong></p>
<h3>Functions to compute the generalized indices of the auxiliary tree nodes that a proof of a given set of generalized indices will require:</h3>
</div>
<div align='start'>
<ul>
<li>
<h4>get_branch_indices</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def get_branch_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:
    """
    Get the generalized indices of the sister chunks along the path from the chunk with the
    given tree index to the root.
    """
    o = [generalized_index_sibling(tree_index)]
    while o[-1] > 1:
        o.append(generalized_index_sibling(generalized_index_parent(o[-1])))
    return o[:-1]
</code></pre>
  </details>
</li>
</ul>
<br/>
<ul>
<li>
<h4>get_path_indices</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def get_path_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:
    """
    Get the generalized indices of the chunks along the path from the chunk with the
    given tree index to the root.
    """
    o = [tree_index]
    while o[-1] > 1:
        o.append(generalized_index_parent(o[-1]))
    return o[:-1]
</code></pre>
  </details>  
</li>
</ul>
<br/>
<ul>
<li>
<h4>get_helper_indices</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def get_helper_indices(indices: Sequence[GeneralizedIndex]) -> Sequence[GeneralizedIndex]:
    """
    Get the generalized indices of all "extra" chunks in the tree needed to prove the chunks with the given
    generalized indices. Note that the decreasing order is chosen deliberately to ensure equivalence to the
    order of hashes in a regular single-item Merkle proof in the single-item case.
    """
    all_helper_indices: Set[GeneralizedIndex] = set()
    all_path_indices: Set[GeneralizedIndex] = set()
    for index in indices:
        all_helper_indices = all_helper_indices.union(set(get_branch_indices(index)))
        all_path_indices = all_path_indices.union(set(get_path_indices(index)))

    return sorted(all_helper_indices.difference(all_path_indices), reverse=True)
</code></pre>
  </details>
</li>
</ul>
<br/>
</div>
<div align='center'>
<h2>Merkle Proof Verification Functions</h2>
<h3>For single item proofs:</h3>
</div>
<div align='start'>
<ul>
<li>
<h4>calculate_merkle_root</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def calculate_merkle_root(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex) -> Root:
    assert len(proof) == get_generalized_index_length(index)
    for i, h in enumerate(proof):
        if get_generalized_index_bit(index, i):
            leaf = hash(h + leaf)
        else:
            leaf = hash(leaf + h)
    return leaf
</code></pre>
  </details>  
</li>
</ul>
<br/>
<ul>
<li>
<h4>verify_merkle_proof</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def verify_merkle_proof(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex, root: Root) -> bool:
    return calculate_merkle_root(leaf, proof, index) == root
</code></pre>
  </details>  
</li>
</ul>
<br/>
</div>
<div align='center'>
<h3>For Multi-item Proofs:</h3>
</div>
<div align='start'>
<ul>
<li>
<h4>calculate_multi_merkle_root</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def calculate_multi_merkle_root(leaves: Sequence[Bytes32],
                                proof: Sequence[Bytes32],
                                indices: Sequence[GeneralizedIndex]) -> Root:
    assert len(leaves) == len(indices)
    helper_indices = get_helper_indices(indices)
    assert len(proof) == len(helper_indices)
    objects = {
        **{index: node for index, node in zip(indices, leaves)},
        **{index: node for index, node in zip(helper_indices, proof)}
    }
    keys = sorted(objects.keys(), reverse=True)
    pos = 0
    while pos &#x3C; len(keys):
        k = keys[pos]
        if k in objects and k ^ 1 in objects and k // 2 not in objects:
            objects[GeneralizedIndex(k // 2)] = hash(
                objects[GeneralizedIndex((k | 1) ^ 1)] +
                objects[GeneralizedIndex(k | 1)]
            )
            keys.append(GeneralizedIndex(k // 2))
        pos += 1
    return objects[GeneralizedIndex(1)]
</code></pre>
  </details>  
</li>
</ul>
<br/>
<ul>
<li>
<h4>verify_merkle_multiproof</h4>
  <details><summary>See Pseudocode</summary><br>
<pre><code class="language-python">def verify_merkle_multiproof(leaves: Sequence[Bytes32],
                            proof: Sequence[Bytes32],
                            indices: Sequence[GeneralizedIndex],
                            root: Root) -> bool:
    return calculate_multi_merkle_root(leaves, proof, indices) == root
</code></pre>
  </details>  
</li>
</ul>
<br/>
</div>
<div align='center'>
<p>Note that the single-item proof is a special case of a multi-item proof; a valid single-item proof verifies correctly when put into the multi-item verification function (making the natural trivial changes to input arguments, index -> [index] and leaf -> [leaf]).</p>
<p>Note also that calculate_merkle_root and calculate_multi_merkle_root can be used independently to compute the new Merkle root of a proof with leaves updated.</p>
</div></div><div class="row justify-content-between"><div class="col-2"><a href="null">Previous</a></div><div class="col-2"><a href="null">Next</a></div></div><div class="d-flex row justify-content-end position-fixed fixed-top"><div class="col-2"><br/><br/><br/><br/><div class="row d-none d-sm-block"><div class="nav flex-column"><ul><ul class=""></ul></ul></div></div></div></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"overviewPageData":{"id":"merkle_multiproofs","contentHtml":"\u003cdiv align='center' id='Merkle%Multiproofs'\u003e\n\u003ch1\u003eMerkle Multiproofs\u003c/h1\u003e\n\u003cp\u003eWe define a \u003cstrong\u003e\u003ccode\u003eMerkle Multiproof\u003c/code\u003e\u003c/strong\u003e as:\u003c/p\u003e\n\u003c/div\u003e\n\u003cdiv align='start'\u003e\n\u003cp\u003eThe minimal subset of nodes in a Merkle tree needed to fully authenticate that a set of nodes actually are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePart of a Merkle tree\n\u003cul\u003e\n\u003cli\u003eWith some specified root,\u003c/li\u003e\n\u003cli\u003eAt a particular set of generalized indices.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/div\u003e\n\u003cdiv align='center'\u003e\n\u003cp\u003e\u003cstrong\u003e\u003cem\u003eTODO: VISUALIZE MERKLE MULTIPROOF\u003c/em\u003e\u003c/strong\u003e\u003c/p\u003e\n\u003ch3\u003eFunctions to compute the generalized indices of the auxiliary tree nodes that a proof of a given set of generalized indices will require:\u003c/h3\u003e\n\u003c/div\u003e\n\u003cdiv align='start'\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003eget_branch_indices\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef get_branch_indices(tree_index: GeneralizedIndex) -\u003e Sequence[GeneralizedIndex]:\n    \"\"\"\n    Get the generalized indices of the sister chunks along the path from the chunk with the\n    given tree index to the root.\n    \"\"\"\n    o = [generalized_index_sibling(tree_index)]\n    while o[-1] \u003e 1:\n        o.append(generalized_index_sibling(generalized_index_parent(o[-1])))\n    return o[:-1]\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003eget_path_indices\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef get_path_indices(tree_index: GeneralizedIndex) -\u003e Sequence[GeneralizedIndex]:\n    \"\"\"\n    Get the generalized indices of the chunks along the path from the chunk with the\n    given tree index to the root.\n    \"\"\"\n    o = [tree_index]\n    while o[-1] \u003e 1:\n        o.append(generalized_index_parent(o[-1]))\n    return o[:-1]\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e  \n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003eget_helper_indices\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef get_helper_indices(indices: Sequence[GeneralizedIndex]) -\u003e Sequence[GeneralizedIndex]:\n    \"\"\"\n    Get the generalized indices of all \"extra\" chunks in the tree needed to prove the chunks with the given\n    generalized indices. Note that the decreasing order is chosen deliberately to ensure equivalence to the\n    order of hashes in a regular single-item Merkle proof in the single-item case.\n    \"\"\"\n    all_helper_indices: Set[GeneralizedIndex] = set()\n    all_path_indices: Set[GeneralizedIndex] = set()\n    for index in indices:\n        all_helper_indices = all_helper_indices.union(set(get_branch_indices(index)))\n        all_path_indices = all_path_indices.union(set(get_path_indices(index)))\n\n    return sorted(all_helper_indices.difference(all_path_indices), reverse=True)\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003c/div\u003e\n\u003cdiv align='center'\u003e\n\u003ch2\u003eMerkle Proof Verification Functions\u003c/h2\u003e\n\u003ch3\u003eFor single item proofs:\u003c/h3\u003e\n\u003c/div\u003e\n\u003cdiv align='start'\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003ecalculate_merkle_root\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef calculate_merkle_root(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex) -\u003e Root:\n    assert len(proof) == get_generalized_index_length(index)\n    for i, h in enumerate(proof):\n        if get_generalized_index_bit(index, i):\n            leaf = hash(h + leaf)\n        else:\n            leaf = hash(leaf + h)\n    return leaf\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e  \n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003everify_merkle_proof\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef verify_merkle_proof(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex, root: Root) -\u003e bool:\n    return calculate_merkle_root(leaf, proof, index) == root\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e  \n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003c/div\u003e\n\u003cdiv align='center'\u003e\n\u003ch3\u003eFor Multi-item Proofs:\u003c/h3\u003e\n\u003c/div\u003e\n\u003cdiv align='start'\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003ecalculate_multi_merkle_root\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef calculate_multi_merkle_root(leaves: Sequence[Bytes32],\n                                proof: Sequence[Bytes32],\n                                indices: Sequence[GeneralizedIndex]) -\u003e Root:\n    assert len(leaves) == len(indices)\n    helper_indices = get_helper_indices(indices)\n    assert len(proof) == len(helper_indices)\n    objects = {\n        **{index: node for index, node in zip(indices, leaves)},\n        **{index: node for index, node in zip(helper_indices, proof)}\n    }\n    keys = sorted(objects.keys(), reverse=True)\n    pos = 0\n    while pos \u0026#x3C; len(keys):\n        k = keys[pos]\n        if k in objects and k ^ 1 in objects and k // 2 not in objects:\n            objects[GeneralizedIndex(k // 2)] = hash(\n                objects[GeneralizedIndex((k | 1) ^ 1)] +\n                objects[GeneralizedIndex(k | 1)]\n            )\n            keys.append(GeneralizedIndex(k // 2))\n        pos += 1\n    return objects[GeneralizedIndex(1)]\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e  \n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003ch4\u003everify_merkle_multiproof\u003c/h4\u003e\n  \u003cdetails\u003e\u003csummary\u003eSee Pseudocode\u003c/summary\u003e\u003cbr\u003e\n\u003cpre\u003e\u003ccode class=\"language-python\"\u003edef verify_merkle_multiproof(leaves: Sequence[Bytes32],\n                            proof: Sequence[Bytes32],\n                            indices: Sequence[GeneralizedIndex],\n                            root: Root) -\u003e bool:\n    return calculate_multi_merkle_root(leaves, proof, indices) == root\n\u003c/code\u003e\u003c/pre\u003e\n  \u003c/details\u003e  \n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cbr/\u003e\n\u003c/div\u003e\n\u003cdiv align='center'\u003e\n\u003cp\u003eNote that the single-item proof is a special case of a multi-item proof; a valid single-item proof verifies correctly when put into the multi-item verification function (making the natural trivial changes to input arguments, index -\u003e [index] and leaf -\u003e [leaf]).\u003c/p\u003e\n\u003cp\u003eNote also that calculate_merkle_root and calculate_multi_merkle_root can be used independently to compute the new Merkle root of a proof with leaves updated.\u003c/p\u003e\n","title":"Merkle Multiproofs","toc":[],"prev":null,"next":null}},"__N_SSG":true},"page":"/overview/[id]","query":{"id":"merkle_multiproofs"},"buildId":"2LJ4PFMRwdOhLM09fRNZT","assetPrefix":"/SSZ-Simpleserialize","isFallback":false,"gsp":true}</script><script nomodule="" src="/SSZ-Simpleserialize/_next/static/chunks/polyfills-8683bd742a84c1edd48c.js"></script><script src="/SSZ-Simpleserialize/_next/static/chunks/webpack-5dd95c85d3a9aa86b57a.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/framework-5ca6b2fc774362eae352.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/679-64d355c62922b7e557b7.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/778-f7da0898f16776c961fa.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/main-b585fbee1813a2c23693.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/723-7930b78c5f6cd3b643bb.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/168-cab4f03cc2887b280c77.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/549-f4b5e9dc3df62febb2ea.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/pages/_app-239eacba429f2e007d2e.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/986-f8942b1674516fcd3903.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/chunks/pages/overview/%5Bid%5D-10591d769e17fd787eaf.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/2LJ4PFMRwdOhLM09fRNZT/_buildManifest.js" async=""></script><script src="/SSZ-Simpleserialize/_next/static/2LJ4PFMRwdOhLM09fRNZT/_ssgManifest.js" async=""></script></body></html>