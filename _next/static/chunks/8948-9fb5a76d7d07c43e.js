"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8948],{38948:function(e,t,n){n.d(t,{Z:function(){return ut}});var r=n(85893),s=n(67294),a=n(30724),i=n.n(a);n(10043),n(88574),n(34490);function c(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("p",{className:"text-center",children:"as 32 Byte leaf:"}),(0,r.jsx)("div",{className:"col text-break border",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{style:{color:"blue"},children:"0x"}),(0,r.jsx)("span",{style:{color:"green"},children:"01"}),(0,r.jsx)("span",{style:{color:"red"},children:"00000000000000000000000000000000000000000000000000000000000000"})]})})]}),(0,r.jsx)("div",{classNaeme:"row justify-content-center",children:(0,r.jsx)("p",{className:"text-center",children:"^"})}),(0,r.jsx)("div",{className:"row justify-content-center border",children:(0,r.jsx)("div",{className:"co",children:(0,r.jsxs)("p",{className:"text-center",children:["serialized: ",(0,r.jsx)("span",{style:{color:"blue"},children:"0x"}),(0,r.jsx)("span",{style:{color:"green"},children:"01"})]})})})]})}var o=n(87717),l=n(72697),d=n(9350);function u(e){var t=function(e){return f===e},n=function(e){return y.includes(e)},a=function(e){p(f!==e?e:0)},i=function(e,n,s){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return a("".concat(e))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:e-w,type:n,empty:c,level:s,chunkIdx:e-w,numChunks:N,selected:t("".concat(e))})},"".concat(n,"node").concat(e)))},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],l=w;l<w+e;l++)i(l);return o},c=function(e,n,s){for(var i=function(e){c.push((0,r.jsx)("div",{onClick:function(){return a("".concat(e+N))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:e-w+N,type:n,empty:!0,level:"leaf",chunkIdx:e-w+N,numChunks:N,selected:t("".concat(e+N))})},"".concat(n,"node").concat(e)))},c=[],o=w;o<w+e;o++)i(o);return c},o=function(e,t,s){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c=0;c<e;c++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:c+g,type:t,empty:a,level:"branch",chunkIdx:c,numChunks:N,active:n(c+e)})},"".concat(t,"node").concat(c)));return i},l=function(e,t,s){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c=0;c<e;c++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:c+Math.pow(2,s),type:"",empty:a,level:"intermediate",chunkIdx:c,numChunks:N,active:n(c+Math.pow(2,s))})},"".concat(t,"node").concat(c)));return i},u=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},h=(0,s.useState)(0),f=h[0],p=h[1],v=(0,s.useState)(!1),x=v[0],m=v[1],j=(0,s.useState)([]),y=j[0],b=j[1],N=e.NUMBER_OF_VALUES,g=u(N),w=u(g+1),_=function(e){var t=[],n=u(e),s=n-e,a=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(d.Z,{type:"R",level:"root",active:x})})},"hashtreeroot"));for(var h=1;h<a-1;h++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(h),className:"row row-cols-auto justify-content-around",children:l(Math.pow(2,h),"T",h)},"treelevel:".concat(h)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:o(e+s,"","branch")},"hash")),t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[i(e,"","leaf"),c(s,"","leaf",!0)]},"leaves")),t}(N);return(0,s.useEffect)((function(){0!==f?(m(!0),b(4==f?[3]:5==f?[2]:8==f?[5,3]:9==f?[4,3]:10==f?[7,2]:11==f?[6,2]:16==f?[9,5,3]:17==f?[8,5,3]:18==f?[11,4,3]:19==f?[10,4,3]:20==f?[13,7,2]:21==f?[12,7,2]:22==f?[15,6,2]:23==f?[14,6,2]:[])):(m(!1),b([]))}),[f]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"row",children:_})})}var h=n(75156),f=n(42468),p=n(47356),v=(n(94816),n(11220)),x=(n(74929),n(25774)),m=n(42474);function j(e){var t=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},n=e.serialized,s=e.valuesPerChunk,a=e.limit,i=(e.values,e.size,e.length),c=(e.numEmpty,Math.floor(a/s)),o=t(c),l=(t(n.length),n.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()})));(0,x.B)(l);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(v.Z,{limit:a,chunks:c,length:i,valuesPerChunk:s,numberofLeaves:o})}),(0,r.jsx)("br",{})]})})}function y(e){var t=(0,s.useState)("Uint8"),n=t[0],a=t[1],i=(0,s.useState)(0),c=i[0],o=i[1],l=(0,s.useState)(32),d=l[0],u=l[1],h=(0,s.useState)([]),v=h[0],x=h[1],m=(0,s.useState)(255),y=(m[0],m[1],(0,s.useState)(0)),b=y[0],N=y[1],g=(0,s.useState)(32),w=g[0],_=(g[1],(0,s.useState)(1)),k=_[0],S=_[1],U=(0,s.useState)(1),M=(U[0],U[1],(0,s.useState)(8)),E=M[0],z=(M[1],(0,s.useState)([])),O=z[0],T=z[1],I=(0,s.useState)([]),C=I[0],L=(I[1],(0,s.useState)((0,r.jsx)(f.ZP,{NUMBER_OF_VALUES:1,list:!0,red:0}))),B=(L[0],L[1]);return(0,s.useEffect)((function(){var e=Math.ceil(d/w),t=C.slice(0,c);x(t);var n=Math.floor((c+w)/w);N(e-n),S(e)}),[c,d]),(0,s.useEffect)((function(){var e=Math.floor((c+w)/w);N(k-e),B((0,r.jsx)(f.ZP,{NUMBER_OF_VALUES:k,list:!0,red:b}))}),[k]),(0,s.useEffect)((function(){d<c&&o(d-1);var e=Math.ceil(d/w),t=Math.floor((c+w)/w);N(k-t),S(e)}),[d]),(0,s.useEffect)((function(){S(Math.ceil(d/w));var e=Math.floor((c+w)/w);N(k-e)}),[c,w,d]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=E/8-1,r=0;r<k;r++){var s=new Uint16Array(32);s.fill(0);for(var a=0;a<w;a++)s=p.serialize(e[r*w+a],s,a*(E/8),E);r==Math.floor(c/w)&&(s=p.serialize(1,s,(c*E/8+n)%32,E)),t.push(s)}T(t)}(v)}),[v]),(0,s.useEffect)((function(){S(Math.ceil(d/w))}),[c,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(j,{serialized:O,valuesPerChunk:w,size:E,limit:d,numEmpty:0,values:v,length:E*d-1,children:e.children})}),(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return a(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:"Element Type"}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint256"})]})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e>w?e-=w:alert("Limit cannot be zero"),u(e)},children:"Limit Down"})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("button",{value:d,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e<8*w?e+=w:alert("Tree depth capped for demonstration purposes"),u(e)},children:"Limit Up"})})]})})]}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:"List<".concat(n,", ").concat(d,">")})})]})}n(63026);function b(e){var t=e.serialized,n=(e.values,e.length),s=e.size,a=Math.floor(n/(256/s))+1,i=a,c=(function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i),t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()})));(0,x.B)(c);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(u,{NUMBER_OF_VALUES:i})})})})}for(var N=[],g=0;g<4096;g++){var w=Math.floor(255*Math.random());N.push(w)}function _(e){var t=(0,s.useState)("Uint8"),n=t[0],a=t[1],i=(0,s.useState)(1),c=i[0],o=i[1],l=(0,s.useState)([0]),d=l[0],u=l[1],h=(0,s.useState)(255),v=(h[0],h[1]),x=(0,s.useState)([]),m=x[0],j=x[1],y=(0,s.useState)(1),g=y[0],w=y[1],_=(0,s.useState)(8),k=_[0],S=_[1],U=(0,s.useState)(32),M=U[0],E=U[1],z=(0,s.useState)(p),O=(z[0],z[1],(0,s.useState)(511)),T=(O[0],O[1]),I=(0,s.useState)(N),C=I[0],L=I[1],B=(0,s.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:1})),R=(B[0],B[1]);return(0,s.useEffect)((function(){R((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:g}))}),[g]),(0,s.useEffect)((function(){w(Math.floor(c/M+1)),u(C.slice(0,c))}),[c,n]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=k/8-1,r=0;r<g;r++){for(var s=new Uint8Array(32),a=0;a<32;a++)s=p.serialize(e[r*M+a],s,a*(k/8),k);r+1==g&&(s=p.serialize(1,s,(e.length*(k/8)+n)%(M*(k/8)),k)),t.push(s)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(b,{serialized:m,values:d,length:c,size:k,children:e.children})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var s=[],i=0;i<16*r;i++){var c=Math.floor(Math.random()*t);s.push(c)}L(s),v(t),S(n),E(r),a(e),o(1),T(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint256"})]}),(0,r.jsx)("label",{for:"length",className:"form-label",children:(0,r.jsx)("h3",{style:{color:"black"},children:"Vector<".concat(n,", ").concat(c,">")})}),(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:c,className:"form-range",onChange:function(e){return o(e.target.value)},min:1,max:8*M-1,id:"length"}),(0,r.jsx)("br",{}),(0,r.jsx)("h4",{className:"text-center",children:"Length"}),(0,r.jsx)("br",{})]})]})}var k=n(34051),S=n.n(k);function U(e){return(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{style:{color:"blue"},children:[" ",e.value.substring(0,2)," "]}),(0,r.jsx)("span",{children:e.value.substring(2)})]})})}var M=n(45800),E=n(93162),z=n(31044);function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function T(e,t){return!t||"object"!==C(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function I(e,t){return I=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},I(e,t)}var C=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var s=O(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return T(this,n)}}var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&I(e,t)}(n,e);var t=L(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this,e)).state={showError:!1,outputType:"hex"},r}var s=n.prototype;return s.componentDidUpdate=function(e){e.serializeModeOn!==this.props.serializeModeOn&&(this.props.serializeModeOn?this.setOutputType("hex"):this.setOutputType("yaml"))},s.hideError=function(){this.setState({showError:!1})},s.setOutputType=function(e){this.setState({outputType:e})},s.downloadFile=function(e,t){var n=new Blob([e]);(0,E.saveAs)(n,this.props.sszTypeName+"."+t)},s.render=function(){var e,t,n=this.props,s=(n.error,n.serialized),a=n.deserialized,i=n.hashTreeRoot,c=n.serializeModeOn,o=n.sszType,l=this.state,d=(l.showError,l.outputType);if(c){var u=z.H[d];e=s&&u?u.dump(s):"",t=i&&u?u.dump(i):""}else{var h=z.b[d];void 0!==a&&h?h.dump(a,o):""}return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(U,{value:e})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)(M.Z,{name:"HashTreeRoot",value:t,textarea:!1}),(0,r.jsx)(M.Z,{name:"Serialized",value:e,textarea:!0})]}),(0,r.jsx)("div",{className:"row"})]})},n.getDerivedStateFromProps=function(e){return{showError:!!e.error}},n}(s.Component),R=n(25874),V=n(54618),D=n(54237),Z=n(4522);function F(e,t,n,r,s,a,i){try{var c=e[a](i),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,s)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,s){var a=e.apply(t,n);function i(e){F(a,r,s,i,c,"next",e)}function c(e){F(a,r,s,i,c,"throw",e)}i(void 0)}))}}function G(e){return G=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},G(e)}function P(e,t){return!t||"object"!==q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e,t){return H=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},H(e,t)}var q=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=G(e);if(t){var s=G(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return P(this,n)}}function J(e){var t=(0,D.O)(e);return t[Math.floor(Math.random()*t.length)]}var Y="phase0",X=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&H(e,t)}(n,e);var t=W(n);function n(e){var r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=t.call(this,e);J(D.z.phase0);return r.state={forkName:Y,input:"",sszTypeName:"Uint8",serializeInputType:"yaml",deserializeInputType:"hex",value:""},r}var s=n.prototype;return s.componentDidMount=function(){var e=this;return A(S().mark((function t(){return S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.resetWith(e.getInputType(),e.state.sszTypeName);case 2:case"end":return t.stop()}}),t)})))()},s.setValueAndInput=function(e,t){this.setState({value:e,input:t})},s.componentDidUpdate=function(e){e.serializeModeOn!==this.props.serializeModeOn&&(this.props.serializeModeOn?(this.setInputType(this.state.serializeInputType),this.props.deserialized&&(this.setState({value:this.props.deserialized}),this.setInput(V.J[this.state.serializeInputType].dump(this.props.deserialized,this.props.sszType)))):(this.setInputType("hex"),this.props.serialized&&this.setInput((0,R.toHexString)(this.props.serialized))))},s.handleError=function(e){this.showError(e.message),this.props.setOverlay(!1)},s.showError=function(e){this.props.alert.error(e)},s.getRows=function(){return Math.min(16,Math.max(4,Math.floor(1.5*(this.state.input.match(/\n/g)||[]).length)))},s.names=function(){return(0,D.O)(this.types())},s.basicNames=function(){return["Uint8","Uint16","Uint32","Uint64","Uint128","Uint256"]},s.types=function(){return D.z[this.state.forkName]},s.getInputType=function(){var e=this.props.serializeModeOn,t=this.state,n=t.serializeInputType,r=t.deserializeInputType;return e?n:r},s.parsedInput=function(){var e=this.getInputType();return V.J[e].parse(this.state.input,this.types()[this.state.sszTypeName])},s.resetWith=function(e,t){var n=this;return A(S().mark((function r(){var s,a,i,c,o;return S().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=n.types(),(a=s[t])||(t=J(s),a=s[t]),i=n.state.forkName,n.props.setOverlay(!0,"Generating random ".concat(t," value...")),r.next=7,(0,Z.Z)(t,i);case 7:c=r.sent,o=V.J[e].dump(c,a),n.props.serializeModeOn?n.setState({serializeInputType:e}):n.setState({deserializeInputType:e}),n.setState({sszTypeName:t,input:o,value:c}),n.props.setOverlay(!1);case 12:case"end":return r.stop()}}),r)})))()},s.setFork=function(e){var t=this;this.setState({forkName:e.target.value},A(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.resetWith(t.getInputType(),t.state.sszTypeName);case 2:case"end":return e.stop()}}),e)}))))},s.setInputType=function(e){var t=this.state,n=t.sszTypeName,r=t.value,s=this.types()[n],a=V.J[e].dump(r,s);this.props.serializeModeOn?this.setState({serializeInputType:e,sszTypeName:n,input:a}):this.setState({deserializeInputType:e,sszTypeName:n,input:a})},s.setSSZType=function(e){var t=this;return A(S().mark((function n(){return S().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.resetWith(t.getInputType(),e.target.value);case 2:case"end":return n.stop()}}),n)})))()},s.setInput=function(e){this.setState({input:e})},s.doProcess=function(){var e=this.state,t=e.sszTypeName,n=e.forkName;try{this.props.onProcess(n,t,this.parsedInput(),this.types()[t],this.getInputType())}catch(r){this.handleError(r)}},s.processFileContents=function(e){try{this.props.serializeModeOn?this.setInput(e):this.setInput((0,R.toHexString)(new Uint8Array(e)))}catch(t){this.handleError(t)}},s.onUploadFile=function(e){if(e){var t=new FileReader,n=this.processFileContents.bind(this),r=this.handleError.bind(this);this.props.serializeModeOn?t.readAsText(e):t.readAsArrayBuffer(e),t.onload=function(e){e.target&&n(e.target.result)},t.onerror=function(e){var t,n;t=e,(null!=(n=Error)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&r(e)}}},s.render=function(){var e=this,t=this.props.serializeModeOn;this.state.serializeInputType;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"form",children:(0,r.jsx)("select",{className:"form-select",id:"ssztypeselect","aria-label":"ssz type",value:this.state.sszTypeName,onChange:this.setSSZType.bind(this),children:this.basicNames().map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))})})})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("textarea",{className:"form-control",id:"input",rows:this.state.input&&this.getRows(),value:this.state.input,onChange:function(t){return e.setInput(t.target.value)}})}),(0,r.jsx)("div",{className:"row p-3",children:(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:!(this.state.sszTypeName&&this.state.input),onClick:this.doProcess.bind(this),children:t?"Serialize":"Deserialize"})})]})},n}(s.Component),K=X,Q=n(39121),$=n.n(Q),ee=n(10393);function te(e,t,n,r,s,a,i){try{var c=e[a](i),o=c.value}catch(l){return void n(l)}c.done?t(o):Promise.resolve(o).then(r,s)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}function re(e,t){return!t||"object"!==ae(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function se(e,t){return se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},se(e,t)}var ae=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ne(e);if(t){var s=ne(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return re(this,n)}}s.Component;function ce(e){var t=function(e){d(e);for(var t="",n=0;n<2*e;n++)t+="0123456789abcdef"[Math.floor(16*Math.random())];a(t),c(j[e]);var s="0x".concat(t);s=s.padEnd(66,"0"),f(s),x((0,r.jsxs)("p",{children:[(0,r.jsx)("span",{style:{color:"blue"},children:s.substr(0,2)}),(0,r.jsx)("span",{style:{color:"green"},children:s.substr(2,2*e)}),(0,r.jsx)("span",{style:{color:"red"},children:s.substr(2*e+2,66-2*e)})]}))},n=(0,s.useState)("ef"),a=(n[0],n[1]),i=(0,s.useState)("Uint8"),c=(i[0],i[1]),o=(0,s.useState)(1),l=o[0],d=o[1],u=(0,s.useState)("0xef"),h=u[0],f=u[1],p=(0,s.useState)(),v=p[0],x=p[1],m=(0,s.useState)();m[0],m[1];(0,s.useEffect)((function(){t(1)}),[]);var j=["Boolean","Bytes32","Uint8","Uint16","Uint32","Uint64","Uint128","Uint256"];return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("p",{className:"text-center",children:"as 32 Byte leaf: "}),(0,r.jsx)("div",{className:"col text-break border",children:v})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"^"})})," ",(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col border text-break",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:" serialized: "}),(0,r.jsx)("span",{style:{color:"blue"},children:h.substr(0,2)}),(0,r.jsx)("span",{style:{color:"green"},children:h.substr(2,2*l)})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"col-3"}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return t(e.target.value)},children:[(0,r.jsx)("option",{value:1,children:"Uint8"}),(0,r.jsx)("option",{value:2,children:"Uint16"}),(0,r.jsx)("option",{value:4,children:"Uint32"}),(0,r.jsx)("option",{value:8,children:"Uint64"}),(0,r.jsx)("option",{value:16,children:"Uint128"}),(0,r.jsx)("option",{value:32,children:"Uint256"})]})}),(0,r.jsx)("div",{className:"col-3"})]})})]})}var oe={Basic:{Unsigned_Integer:{notation:"Uint[N]",Definition:"Unsigned Integer of N Bytes.  Uint8, Uint16, Uint64, Uint128, Uint256",Default_Value:"0",Illegal_Types:""},Boolean:{notation:"boolean",Definition:"True or False, 0 or 1, etc.",Default_Value:"False",Illegal_Types:""}},Composite:{Vector:{notation:"Vector[type, N]",Definition:"Fixed Length sequence of elements of same type.  Homogeneous collection of length N",Default_Value:"[default(type)] * N  -- A vector of default values of length N",Illegal_Types:"Empty Vectors -- Vector[type, 0]"},List:{notation:"List[type, N]",Definition:"Variable Length sequence of elements of same type.  Homogenous collection limited to N values",Default_Value:"Empty List: [ ]",Illegal_Types:""},Container:{notation:"Container[var_a: type, var_b: type, ...]",Definition:"Heterogeneous collection of key-type pairs.",Default_Value:"default(type) for type in container. -- All fields zeroed to default values",Illegal_Types:"Container with no fields"},Union:{notation:"Union[type_0, type_1, ...]",Definition:"Union type containing SSZ types",Default_Value:"default(type_0).  the zeroed default value of type_0",Illegal_Types:"Union with null type at type_0. -- Union[null, ...]"}},Special:{BitVector:{notation:"BitVector[N]",Definition:"Vector of Boolean Values of length N.  Given special notation for efficiency",Default_Value:"False * N",Illegal_Types:"Empty BitVectors: BitVector[0]"},BitList:{notation:"BitList[N]",Definition:"List of Boolean Values with limit N.  Given special notation for efficiency.",Default_Value:"Empty List: [ ]",Illegal_Types:""},Root:{notation:"hash_tree_root(type)",Definition:"The merkleized root of a composite SSZ type",Default_Value:"hash_tree_root(default(type))",Illegal_Types:""}}},le=["primray","secondary","success","danger","warning","info","light"];function de(e){var t=(0,s.useState)("boolean"),n=(t[0],t[1],(0,s.useState)((0,r.jsx)(l.Z,{NUMBER_OF_VALUES:1}))),a=(n[0],n[1],-1);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Types"}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsxs)("table",{class:"table table-bordered table-hover",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col"}),(0,r.jsx)("th",{scope:"col",children:"Type"}),(0,r.jsx)("th",{scope:"col",children:"Notation"}),(0,r.jsx)("th",{scope:"col",children:"Definition"}),(0,r.jsx)("th",{scope:"col",children:"Default Value"}),(0,r.jsx)("th",{scope:"col",children:"Illegal Types"})]})}),(0,r.jsx)("tbody",{children:Object.keys(oe).map((function(e,t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("th",{scope:"row",children:e}),Object.keys(oe[e]).map((function(t){return a=(a+3)%7,(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{className:"table-".concat(le[a]),children:[(0,r.jsx)("td",{children:" -"}),(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:oe[e][t].notation}),(0,r.jsx)("td",{children:oe[e][t].Definition}),(0,r.jsx)("td",{children:oe[e][t].Default_Value}),(0,r.jsx)("td",{children:oe[e][t].Illegal_Types})]})})}))]})}))})]})}),(0,r.jsxs)("div",{className:"row py-4 border-top",children:[(0,r.jsx)("h4",{children:"Default Values E.g."}),(0,r.jsx)(o.dn,{text:"\nvar a: Type<boolean>  \nvar b: Type<uint8>  \nvar c: Type<uint16>  \nvar d: Type<Vector<byte, 4>>  \n  \na.defaultValue = false  \nb.defaultValue = 0  \nc.defaultValue = 0  \nd.defaultValue = 0000  \n",language:"typescript",showLineNumbers:!1})]})]})}var ue=["\nValidator = {\n    pubkey: BLSPubkey;\n    withdrawalCredentials: Bytes32;\n    effectiveBalance: Gwei;\n    slashed: boolean;\n    activationEligibilityEpoch: Epoch;\n    activationEpoch: Epoch;\n    exitEpoch: Epoch;\n    withdrawableEpoch: Epoch;\n}","\nDepositData = {\n    pubkey: BLSPubkey;\n    withdrawalCredentials: Bytes32;\n    amount: Gwei;\n    signature: BLSSignature;\n}","DepositEvent = {\n    depositData: DepositData;\n    blockNumber: Number64;\n    index: Number64;\n}","\nBeaconBlockHeader = {\n    slot: Slot;\n    proposerIndex: ValidatorIndex;\n    parentRoot: Root;\n    stateRoot: Root;\n    bodyRoot: Root;\n}"," \nSignedBeaconBlockHeader = {\n    message: BeaconBlockHeader;\n    signature: BLSSignature;\n}"],he=["\npubkey: >-\n0x3f59537f9e35724643f594b53b57f5489bf4588cacf1fcbff8925cea64520cb1f6cba307cc4354b14594c3ec5339c71c\nwithdrawalCredentials: '0xc1e8d78277f83362a4addc5810fe3c8513e33eaec8dbc6812b37bc68fcb34439'\neffectiveBalance: '0'\nslashed: true\nactivationEligibilityEpoch: '2'\nactivationEpoch: '0'\nexitEpoch: '3'\nwithdrawableEpoch: '7'\n\n","\npubkey: >-\n  0xd0733c5c339f883fcfd10379f84c55db68cccd75401f6bab017311a093b19558de498db96abe75ac677950bce1e801d6\nwithdrawalCredentials: '0x7ade6735c5f2702202557884d80ba731fa00907751dd54330b46d43f5910a9b6'\namount: '1'\nsignature: >-\n  0x7ba6f3bdb07d1563e01c2b02a485a71cdcd70fda32d7ece78043103f4fd3effbe00b41ee0fb2fcbe7e75944f4065fbd9e83a9437a7036ed15b9c62b513e937bd4a31b1994628d39b8ea36e4449e138a02f953fcb539ccd9a505d9ce0c326b11e\n\n","\ndepositData:\n  pubkey: >-\n    0xe2fef72ee38ab75fcbe76227fa743b575748f2e099170eff4fdf13b19847d9546a9abc18cb2439cc1afa87a7d9785055\n  withdrawalCredentials: '0x32783eec26771af12832caa1c54fa13ce19e1c9cd1dc9af5aa6f214b8952372c'\n  amount: '3'\n  signature: >-\n    0xcc27cf60bc28405a0e3ef15b55d11bf10897d03bd600de16db922efad41d3242d0ea0ccaf8a76af097eaff672e9830b520084cb70d642fcc69346b7202c0a7d32eb95bad048f7ddc867a20a1d714f0ba1ed362baceb5caaba2c078367c6f7f1d\nblockNumber: '6'\nindex: '2'\n\n","\nslot: '1'\nproposerIndex: '3'\nparentRoot: '0xb22657be51c2c572099183f8ad4e1c446abe3c7cea23452a9ec38e869ea35b6b'\nstateRoot: '0x7707a8d72c2aaca980f30444d958241c29e8b442098853828d63e65bfca54a24'\nbodyRoot: '0xac4dbc56be2c4de6eed1d792b2ae91b380817e0ef3406fb6fff8d5724466a7dd'\n\n","\nmessage:\n  slot: '6'\n  proposerIndex: '0'\n  parentRoot: '0xc8520690a03294a6c28e0c4654964195e9a65c2e388ad1e00d74dea94b151ad4'\n  stateRoot: '0x87cee2995c9d709176e6ba06f7e44e067ee021260c2ec9c479f7525fdb5c1430'\n  bodyRoot: '0xcfdd2f980d215fd859835fa0246fc4f4d3005a080e1ed1b077d971ab3cfeb37a'\nsignature: >-\n  0xba4a8591b538ec11764f79faf097757a84c58ed94e24419739f183ec652a6fdeec926602672cc12ca4a74b1126a896b6ec73d2865946cc9cf95891d659391e1b3f71572795115276db1b7f3a72ba6c7ec19c5e963956ab3e24f32a94af84aceb\n\n"];function fe(e){var t=(0,s.useState)(2),n=t[0],a=(t[1],ue[n]),c=he[n];return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row pt-4",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsxs)("div",{className:"row border border-3",children:[(0,r.jsxs)("div",{className:"col-6 border",children:[(0,r.jsx)(o.dn,{text:a,language:"yaml",showLineNumbers:!1}),(0,r.jsxs)("h5",{children:["- The DepositEvent type is an alias for a Container with 3 fields.",(0,r.jsx)("br",{}),"- blockNumber and index are both aliases for simple types.",(0,r.jsx)("br",{}),"- They each occupy one RED leaf of the tree.",(0,r.jsx)("br",{}),"- The RED leaf for depositData contains the hash_tree_root of a depositData type, which is an alias for a Container with 4 fields.",(0,r.jsx)("br",{}),"- pubkey, withdrawalCredentials, amount, and signature are aliases for both simple and complex types.",(0,r.jsx)("br",{}),"- Aliases can be endlessly nested in this way to maintain consistency and improve readibility."]})]}),(0,r.jsxs)("div",{className:"col-6 border",children:[(0,r.jsx)(o.dn,{text:c,language:"yaml",showLineNumbers:!1})," "]})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"text-center",children:"Deposit Event Merkle Tree"}),(0,r.jsx)("img",{className:"img-fluid",src:"./depositevent.png",alt:"deposit event tree"})]})]})}var pe=n(11484),ve=n.n(pe);function xe(e){var t=e.chunk,n=(e.length,e.idx),s=(e.numberOfLeaves,e.numberOfChunks,e.emptyLeaves,e.numberOfChunks),a=256/e.size,i=e.size,c=n+1==s?160:0,o=n+1==s?0:n%2==0?256:180,l="rgb(".concat(n+1==s?0:n%2==1?240:0,",").concat(c,",").concat(o,")"),d=function(){for(var c=[],o=0;o<t.length;o+=i/4)c.push(t.substring(o,o+i/4));if(n===s-1){var d=e.length,u=e.size,h=c.slice(0,d%(256/u)),f=[],p=c.slice(d%(256/u)+1,c.length-1);p[0];h=h;for(var v=0;v<h.length;v+=u/4)f.push([h.slice(v,v+u/4)]);return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid green 2px"},children:(0,r.jsxs)("text",{className:"".concat(ve().hex," text-break p-0"),children:[h.map((function(e){return(0,r.jsx)("span",{style:{color:"green",border:"solid green 1px"},children:e})})),(0,r.jsx)("span",{style:{backgroundColor:"black",color:"gold"},children:c[d%a]}),(0,r.jsx)("span",{style:{border:"solid black"},className:"".concat(ve().padding," text-break"),children:p})]})})}return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(l),display:"inline-block"},children:c.map((function(e){return(0,r.jsx)("span",{children:e})}))})}();return d}function me(e){var t=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=c;o<c+e;o++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-2",children:(0,r.jsx)("div",{className:"row px-4 justify-content-center",children:(0,r.jsx)(d.Z,{idx:o-c,type:"value",empty:s,level:n,chunkIdx:o-c,numChunks:a})})},"".concat(t,"node").concat(o)));return i},n=function(e,t,n){for(var s=[],i=c;i<c+e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-2",children:(0,r.jsx)("div",{className:"row px-4 justify-content-center",children:(0,r.jsx)(d.Z,{idx:"emtpy",type:"empty",empty:!0,level:"leaf",chunkIdx:i-c+a,numChunks:a})})},"".concat(t,"node").concat(i)));return s},s=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},a=e.NUMBER_OF_VALUES,i=s(a),c=s(i+1),o=function(e){var a=[],i=s(e),c=i-e;!function(e){var t=1;1==e||(t+=Math.log(e)/Math.log(2))}(i);return a.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8 mx-2",children:[t(e,"","leaf"),n(c,"","leaf",!0)]},"leaves")),a}(a);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"row",children:o})})}function je(e){var t=function(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},n=e.serialized,s=(e.values,e.length),a=e.size,i=Math.floor(s/(256/a))+1,c=i,o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(c),l=o-c,d=n.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(d);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(me,{NUMBER_OF_VALUES:c})}),(0,r.jsx)("div",{className:"row",children:function(){for(var e=n.map((function(e,n){var c=t(e);return(0,r.jsx)(xe,{numberOfLeaves:o,emptyLeaves:l,id:"chunk".concat(n),chunk:c,length:s,size:a,idx:n,numberOfChunks:i},n)})),c=0;c<l;c++)e.push((0,r.jsx)("div",{className:"col text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";n.forEach((function(n){var r=t(n);e+=r}));for(var r=0;r<l;r++)e+="00".padEnd(64,"0");return e}()]})})]})})}for(var ye=[],be=0;be<4096;be++){var Ne=Math.floor(255*Math.random());ye.push(Ne)}function ge(e){var t=(0,s.useState)("Uint8"),n=t[0],a=t[1],i=(0,s.useState)(1),c=i[0],o=i[1],l=(0,s.useState)([0]),d=l[0],u=l[1],h=(0,s.useState)(255),v=(h[0],h[1]),x=(0,s.useState)([]),m=x[0],j=x[1],y=(0,s.useState)(1),b=y[0],N=y[1],g=(0,s.useState)(8),w=g[0],_=g[1],k=(0,s.useState)(32),S=k[0],U=k[1],M=(0,s.useState)(p),E=(M[0],M[1],(0,s.useState)(511)),z=(E[0],E[1]),O=(0,s.useState)(ye),T=O[0],I=O[1],C=(0,s.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:1})),L=(C[0],C[1]);return(0,s.useEffect)((function(){L((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:b}))}),[b]),(0,s.useEffect)((function(){N(Math.floor(c/S+1)),u(T.slice(0,c))}),[c,n]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=w/8-1,r=0;r<b;r++){for(var s=new Uint8Array(32),a=0;a<32;a++)s=p.serialize(e[r*S+a],s,a*(w/8),w);r+1==b&&(s=p.serialize(1,s,(e.length*(w/8)+n)%(S*(w/8)),w)),t.push(s)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var s=[],i=0;i<16*r;i++){var c=Math.floor(Math.random()*t);s.push(c)}I(s),v(t),_(n),U(r),a(e),o(1),z(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]}),(0,r.jsx)("h5",{className:"text-center",children:"Type"}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:c,className:"form-range",onChange:function(e){return o(e.target.value)},min:1,max:8*S-1,id:"length"})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("h5",{className:"text-center",children:["Length ",(0,r.jsx)("h6",{className:"text-center",children:c})]})]}),(0,r.jsx)("h5",{className:"text-center",style:{color:"black"},children:"Vector<".concat(n,", ").concat(c,">")})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(je,{serialized:m,values:d,length:c,size:w,children:e.children})})]})}function we(e){var t=e.chunk,n=(e.length,e.idx),s=e.numberOfLeaves,a=(e.numberOfChunks,e.emptyLeaves,e.numberOfChunks),i=256/e.size,c=e.size,o=n+1==a?160:0,l=n+1==a?0:n%2==0?256:180,d="rgb(".concat(n+1==a?0:n%2==1?240:0,",").concat(o,",").concat(l,")"),u=function(){for(var a=[],o=0;o<t.length;o+=c/4)a.push(t.substring(o,o+c/4));if(n===s-1){var l=e.length,u=e.size,h=a.slice(0,l%(256/u)),f=[],p=a.slice(l%(256/u)+1,a.length-1);p[0];h=h;for(var v=0;v<h.length;v+=u/4)f.push([h.slice(v,v+u/4)]);return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid green 2px"},children:(0,r.jsxs)("text",{className:"".concat(ve().hex," text-break p-0"),children:[h.map((function(e){return(0,r.jsx)("span",{style:{color:"green",border:"solid green 1px"},children:e})})),(0,r.jsx)("span",{style:{backgroundColor:"black",color:"gold"},children:a[l%i]}),(0,r.jsx)("span",{style:{border:"solid black"},className:"".concat(ve().padding," text-break"),children:p})]})})}return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(d),display:"inline-block"},children:a.map((function(e){return(0,r.jsx)("span",{children:e})}))})}();return u}function _e(e){var t=function(e){u(l!==e?e:0)},n=function(e){return l===e},a=function(e,s,a){for(var i=function(e){c.push((0,r.jsx)("div",{onClick:function(){return t("".concat(e))},id:"".concat(s,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"",type:s,empty:!1,level:a,chunkIdx:e-N,numChunks:y,limit:x,selected:n("".concat(e))})})},"".concat(s,"node").concat(e)))},c=[],o=N;o<N+e;o++)i(o);return c},i=function(e,s,a){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return t("".concat(e))},id:"".concat(s,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"empty",type:s,empty:!0,level:a,chunkIdx:e+c-N,numChunks:y,limit:x,selected:n("".concat(e+c-N))})})},"".concat(s,"node").concat(e)))},c=arguments.length>4?arguments[4]:void 0,o=[],l=N;l<N+e;l++)i(l);return o},c=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},o=(0,s.useState)(0),l=o[0],u=o[1],h=(0,s.useState)(!1),f=(h[0],h[1]),p=(0,s.useState)([]),v=(p[0],p[1]),x=e.chunks,m=e.length,j=e.valuesPerChunk,y=Math.floor(m/j+1),b=c(x),N=c(b+1),g=function(e){var t=[],n=c(e),s=n-e;!function(e){var t=1;1==e||(t+=Math.log(e)/Math.log(2))}(n);return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8",children:[a(e,"chunk","leaf"),i(s,"empty","leaf",!0,e)]},"leaves")),t}(x);return(0,s.useEffect)((function(){0!==l?(f(!0),v(4==l?[3]:5==l?[2]:8==l?[5,3]:9==l?[4,3]:10==l?[7,2]:11==l?[6,2]:16==l?[9,5,3]:17==l?[8,5,3]:18==l?[11,4,3]:19==l?[10,4,3]:20==l?[13,7,2]:21==l?[12,7,2]:22==l?[15,6,2]:23==l?[14,6,2]:[])):(f(!1),v([]))}),[l]),g}function ke(e){var t=function(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")},n=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},s=e.serialized,a=(e.values,e.length),i=e.size,c=e.variable,o=256/i,l=a/(256/i),d=n(l),u=Math.floor(c/(256/i))+1,h=(n(u),d-l),f=s.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(f);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(_e,{limit:a,chunks:l,length:c,valuesPerChunk:o,numberofLeaves:d})}),(0,r.jsx)("div",{className:"row",children:function(){for(var e=s.map((function(e,n){var s=t(e);return(0,r.jsx)(we,{numberOfLeaves:u,emptyLeaves:h,id:"chunk".concat(n),chunk:s,length:c,size:i,idx:n,numberOfChunks:d},n)})),n=0;n<h;n++)e.push((0,r.jsx)("div",{className:"col text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";s.forEach((function(n){var r=t(n);e+=r}));for(var n=0;n<h;n++)e+="00".padEnd(64,"0");return e}()]})})]})})}function Se(e){var t=function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var s=[],a=0;a<512;a++){var c=Math.floor(Math.random()*t);s.push(c)}z(n),j(t),w(r),B(s),i(e),l(r-1),h(k*r),S(Math.ceil(u/g))},n=(0,s.useState)("Uint8"),a=n[0],i=n[1],c=(0,s.useState)(16),o=c[0],l=c[1],d=(0,s.useState)(32),u=d[0],h=d[1],f=(0,s.useState)([]),v=f[0],x=f[1],m=(0,s.useState)(255),j=(m[0],m[1]),y=(0,s.useState)(0),b=(y[0],y[1]),N=(0,s.useState)(32),g=N[0],w=N[1],_=(0,s.useState)(1),k=_[0],S=_[1],U=(0,s.useState)(1),M=(U[0],U[1],(0,s.useState)(8)),E=M[0],z=M[1],O=(0,s.useState)([]),T=O[0],I=O[1],C=(0,s.useState)([]),L=C[0],B=C[1];return(0,s.useEffect)((function(){t(a);var e=L.slice(0,o);x(e)}),[]),(0,s.useEffect)((function(){var e=Math.ceil(u/g),t=L.slice(0,o);x(t);var n=Math.floor((o+g)/g);b(e-n),S(e)}),[o,u]),(0,s.useEffect)((function(){var e=Math.floor((o+g)/g);b(k-e)}),[k]),(0,s.useEffect)((function(){u<o&&l(u-1);var e=Math.ceil(u/g),t=Math.floor((o+g)/g);b(k-t),S(e)}),[u]),(0,s.useEffect)((function(){S(Math.ceil(u/g));var e=Math.floor((o+g)/g);b(k-e)}),[o,g,u]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=E/8-1,r=0;r<k;r++){var s=new Uint8Array(32);s.fill(0);for(var a=0;a<g;a++)s=p.serialize(e[r*g+a],s,a*(E/8),E);r==Math.floor(o/g)&&(s=p.serialize(1,s,(o*E/8+n)%32,E)),t.push(s)}I(t)}(v)}),[v]),(0,s.useEffect)((function(){S(Math.ceil(u/g))}),[o,u]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col-3 px-3",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return t(e.target.value)},children:[(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return t=e.target.value,void l(t);var t},min:0,max:u-1,id:"length"}),(0,r.jsxs)("p",{className:"text-center",children:["Variable Length: ",o]})]}),(0,r.jsxs)("div",{className:"col-3 px-3",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{value:u,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=u;e<8*g?e+=g:alert("Tree depth capped for demonstration purposes"),h(e)},children:"Limit Up"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=u;e>g?e-=g:alert("Limit cannot be zero"),h(e)},children:"Limit Down"})})]})]}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:function(){var e=u;return"List <elementType: ".concat(a,", limit: ").concat(e,">")}()})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(ke,{serialized:T,values:v,length:u,variable:o,size:E,children:e.children})})]})}function Ue(e){var t=function(e){u(l!==e?e:0)},n=function(e){return l===e},a=function(e,s,a){for(var i=function(e){c.push((0,r.jsx)("div",{onClick:function(){return t("".concat(e))},id:"".concat(s,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"",type:"root",empty:!1,level:a,chunkIdx:e,numChunks:j,limit:m,selected:n("".concat(e))})})},"".concat(s,"node").concat(e)))},c=[],o=0;o<e;o++)i(o);return c},i=function(e,s,a){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return t("".concat(e))},id:"".concat(s,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"empty",type:"empty",empty:!0,level:a,chunkIdx:0,numChunks:j,limit:m,selected:n("".concat(e+c-b))})})},"".concat(s,"node").concat(e)))},c=arguments.length>4?arguments[4]:void 0,o=[],l=0;l<e;l++)i(l);return o},c=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},o=(0,s.useState)(0),l=o[0],u=o[1],h=(0,s.useState)(!1),f=(h[0],h[1]),p=(0,s.useState)([]),v=(p[0],p[1]),x=e.chunks,m=e.length,j=Math.floor(m/1+1),y=c(x),b=c(y+1),N=function(e){var t=[],n=c(e)-e;return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8",children:[a(e,"chunk","leaf"),i(n,"empty","leaf",!0,e)]},"leaves")),t}(x);return(0,s.useEffect)((function(){0!==l?(f(!0),v(4==l?[3]:5==l?[2]:8==l?[5,3]:9==l?[4,3]:10==l?[7,2]:11==l?[6,2]:16==l?[9,5,3]:17==l?[8,5,3]:18==l?[11,4,3]:19==l?[10,4,3]:20==l?[13,7,2]:21==l?[12,7,2]:22==l?[15,6,2]:23==l?[14,6,2]:[])):(f(!1),v([]))}),[l]),N}function Me(e){var t=e.chunk,n=(e.length,e.idx),s=(e.numberOfLeaves,e.numberOfChunks,e.emptyLeaves,e.numberOfChunks,e.size,e.size,n%2==0?256:180),a="rgb(".concat(n%2==1?240:0,",").concat(0,",").concat(s,")");return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(a),display:"inline-block"},children:(0,r.jsx)("span",{children:t})})}function Ee(e){var t=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},n=e.values,s=e.length,a=256,i=256/a,c=s/(256/a),o=n.slice(0,s),l=t(c),d=Math.floor(s/(256/a))+1,u=(t(d),l-c);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ue,{limit:s,chunks:c,length:s,valuesPerChunk:i,numberofLeaves:l})}),s<9&&(0,r.jsx)("div",{className:"row",children:function(){for(var e=o.map((function(e,t){return(0,r.jsx)(Me,{numberOfLeaves:d,emptyLeaves:u,s:!0,id:"chunk".concat(t),chunk:e,length:s,size:256,idx:t,numberOfChunks:l},t)})),t=0;t<u;t++)e.push((0,r.jsx)("div",{className:"col overflow-hidden text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";o.forEach((function(t){e+=t}));for(var t=0;t<u;t++)e+="00".padEnd(64,"0");return e}()]})})]})})}function ze(e){for(var t=(0,s.useState)(5),n=t[0],a=t[1],i=[],c=0;c<16;c++){for(var o="",l=0;l<64;l++){o+="abcdef0123456789"[Math.floor(16*Math.random())]}i.push(o)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-evenly",children:[(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n>1&&a(n-1)},children:"Less"})}),(0,r.jsx)("div",{className:"col-3",children:(0,r.jsxs)("h4",{children:["Container: ",n," fields"]})}),(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n<16&&a(n+1)},children:"More"})}),(0,r.jsx)("div",{className:"col-5"})]}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)(Ee,{length:n,values:i,size:256,children:e.children})})]})}var Oe="\nAll simple types (boolean / uintN) undergo simple byte conversion.  \nA merkle tree leaf with one simple value is padded with zero bits to create a 32 Byte value.  \n  \nIn the interactive diagram, the green bits represent the stored value, and the red zeros are the padding.\nChange the byte size to demonstrate how each UintN size serializes to a 32 Byte root.\n\n",Te="\n- Vector types are fixed-length lists.  \n\n- Elements are packed tightly into 32 Byte leaves, with an additional '1' bit added after the last value.  \n\n- This way, the length of the vector becomes part of the object itself.  \n\n- If the total number of values PLUS THE LENGTH BIT does not evenly divide into 32 byte chunks, the last leaf is padded with zeros, after the length bit.  \n\n- If the total number of chunks does not equal a power of two, additional empty leaves fill the merkle tree.\n\n- Interactive: Change the type and length parameters to visualize how vectors are \"chunked\" into 32 Byte leaves.\n\n\n",Ie='\n- List are like vectors, but the FIXED_LENGTH is more like a LIMIT, and the actual length is VARIABLE.  \n\n- The LIMIT is a number of full chunks.\n  \n- The values and "1" bit representing the VARIABLE_LENGTH serialize like a vector.\n  \n- The final hash_tree_root of a List is the hash_tree_root of a merkle tree whose leaves are the hash_tree_root of the values, and a leaf storing a Uint256 of the fixed-length LIMIT.\n  \n- The fixed-length LIMIT is stored as an additional leaf.\n  \n- Interactive: Change the TYPE, LIMIT, and LENGTH parameters to visualize how lists are "chunked" into 32 Byte leaves.\n',Ce="\n  Container types will have a Merkle Tree leaf for each field, some of which may be the 'Root' of a nested Merkle Tree.  \n  If the number of fields does not equal a power-of-two, the merkle tree is padded with zero nodes to achieve a perfect binary tree.\n  Below, change the number of fields to visualize how container fields fill the leaves of a merkle-tree.\n  \n\n  \n";function Le(e){var t=(0,s.useState)("boolean"),n=t[0],a=(t[1],(0,s.useState)((0,r.jsx)(l.Z,{NUMBER_OF_VALUES:1}))),o=(a[0],a[1]),d=(0,s.useState)(Oe),u=(d[0],d[1]);(0,s.useEffect)((function(){o("boolean"==n?(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(c,{})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["var","<boolean>"," = TRUE"]})})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(ce,{})})]}):"vector"==n?(0,r.jsx)(_,{NUMBER_OF_VALUES:3}):"list"==n?(0,r.jsx)(y,{}):"container"==n?(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:5}):(0,r.jsx)("div",{children:"Hello"}))}),[n]),(0,s.useEffect)((function(){u("boolean"==n?Oe:"vector"==n?Te:"list"==n?Ie:"container"==n?Ce:Oe)}),[n]);return(0,r.jsxs)("div",{className:"container bg-light",children:[(0,r.jsxs)("div",{className:"row border-bottom",children:[(0,r.jsx)("h3",{className:"text-center",children:"Serialization"}),(0,r.jsx)("h6",{className:"text-center fst-italic",children:"the process of translating a data structure or object into a string of bytes"})]}),(0,r.jsxs)("div",{className:"row pt-3 bg-light",children:[(0,r.jsxs)("div",{className:"col-5",children:[(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)("h4",{className:"text-center",children:"Simple Types"})}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)("h5",{className:"text-center",children:(0,r.jsx)(i(),{children:Oe})})})]}),(0,r.jsxs)("div",{className:"col-7",children:[" ",(0,r.jsx)("div",{className:"row border-bottom py-4",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(c,{})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("p",{className:"text-center",children:"Boolean"})," "]})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(ce,{})})]})})]})]}),(0,r.jsxs)("div",{className:"row bg-light",children:[(0,r.jsx)("div",{className:"col"}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h4",{className:"",children:"COMPOSITE TYPES"})}),(0,r.jsx)("div",{className:"border-bottom row py-3",children:(0,r.jsx)("h5",{className:"",children:'\nSimple Types combine into Vectors, Lists, and Containers.  These types are serialized by serializing the simple objects inside, then packing\nthose serialized bits into 32 Byte "chunks".\n'})})]})]}),(0,r.jsxs)("div",{className:"row pt-3",children:[(0,r.jsxs)("div",{className:"col border-bottom",children:[(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h4",{className:"text-center",children:"VECTORS"})}),(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h5",{className:"",children:(0,r.jsx)(i(),{children:Te})})})]}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"row py-5 border-bottom",children:(0,r.jsx)(ge,{})})})]}),(0,r.jsxs)("div",{className:"row py-3",children:[(0,r.jsxs)("div",{className:"col py-4 ",children:[" ",(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(Se,{})})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h4",{className:"text-center",children:"LISTS"})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h5",{children:(0,r.jsx)(i(),{children:Ie})})})]})]}),(0,r.jsx)("div",{className:"row py-4 text-center"}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h4",{className:"text-center",children:"CONTAINERS"})}),(0,r.jsx)("div",{className:"row py-4 text-center",children:(0,r.jsx)("h5",{children:Ce})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(ze,{})})]})}var Be=n(4591);function Re(e){var t=function(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c=0;c<e;c++){var o="intermediate"==t?"":c+1;i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:o,type:t,empty:a,level:n,chunkIdx:c,numChunks:s})},"".concat(t,"node").concat(c)))}return i},n=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},s=e.NUMBER_OF_VALUES,a=(n(s),function(e){var s=[],a=n(e),i=a-e,c=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(a);s.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:"R",level:"root"})})},"hashtreeroot"));for(var o=1;o<c-1;o++)s.push((0,r.jsx)("div",{id:"treelevel:".concat(o),className:"row row-cols-auto justify-content-around",children:t(Math.pow(2,o),"H","intermediate")},"treelevel:".concat(o)));return e>1&&s.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:t(e+i,"","branch")},"hash")),s.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:t(e+i,"","leaf")},"leaves")),s}(s));return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-7",children:a}),(0,r.jsxs)("div",{className:"col-5",children:[(0,r.jsx)("div",{className:"row pb-1",children:(0,r.jsx)("h5",{children:"hash_tree_root"})}),(0,r.jsx)("div",{className:"row py-1",children:(0,r.jsx)("h5",{children:"intermediate hash nodes"})}),(0,r.jsx)("div",{className:"row py-1",children:(0,r.jsx)("h5",{children:"hash leaf nodes"})}),(0,r.jsx)("div",{className:"row pt-1",children:(0,r.jsx)("h5",{children:"32 Byte serialized objects"})})]})]})}n(25500);function Ve(e){var t=function(e){return h===e},n=function(e){return j.includes(e)},a=function(e){f(h!==e?e:0)},i=function(e,n,s){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return a("".concat(e))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:e-b,type:n,empty:c,level:s,chunkIdx:e-g,numChunks:b,selected:t("".concat(e))})},"".concat(n,"node").concat(e)))},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],l=g;l<g+e;l++)i(l);return o},c=function(e,n,s){for(var i=function(e){c.push((0,r.jsx)("div",{onClick:function(){return a("".concat(e+b))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:e-g+b,type:n,empty:!0,level:"leaf",chunkIdx:e-g+b,numChunks:b,selected:t("".concat(e+b))})},"".concat(n,"node").concat(e)))},c=[],o=g;o<g+e;o++)i(o);return c},o=function(e,t,s){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c=0;c<e;c++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:c+N,type:t,empty:a,level:"branch",chunkIdx:c,numChunks:b,active:n(c+e)})},"".concat(t,"node").concat(c)));return i},l=function(e,t,s){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],c=0;c<e;c++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:c+Math.pow(2,s),type:"",empty:a,level:"intermediate",chunkIdx:c,numChunks:b,active:n(c+Math.pow(2,s))})},"".concat(t,"node").concat(c)));return i},d=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},u=(0,s.useState)(0),h=u[0],f=u[1],p=(0,s.useState)(!1),v=p[0],x=p[1],m=(0,s.useState)([]),j=m[0],y=m[1],b=e.NUMBER_OF_VALUES,N=d(b),g=d(N+1),w=function(e){var t=[],n=d(e),s=n-e,a=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:"R",level:"root",active:v})})},"hashtreeroot"));for(var u=1;u<a-1;u++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:l(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:o(e+s,"","branch")},"hash")),t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[i(e,"","leaf"),c(s,"","leaf",!0)]},"leaves")),t}(b);return(0,s.useEffect)((function(){0!==h?(x(!0),y(4==h?[3]:5==h?[2]:8==h?[5,3]:9==h?[4,3]:10==h?[7,2]:11==h?[6,2]:16==h?[9,5,3]:17==h?[8,5,3]:18==h?[11,4,3]:19==h?[10,4,3]:20==h?[13,7,2]:21==h?[12,7,2]:22==h?[15,6,2]:23==h?[14,6,2]:[])):(x(!1),y([]))}),[h]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"Select leaf (BOTTOM ROW) to show merkle proof"})}),(0,r.jsx)("div",{className:"row",children:w}),0!=h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaf: ",0!=h&&h-8]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data: ",j.toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["proof: H(H(",j[1],", H(",j[0],",",h-8,")),",j[2],") == R"]})})]})]})}function De(e,t){for(var n=t+Math.floor(e.length/2),r=[e[t]];n>1;)r.push(e[1^t]),n=Math.floor(n/2);return r}var Ze="0123456789abcdef";De(Ze,0);!function(e,t){var n=[],r={};t.forEach((function(t){var s=De(e,t),a=Math.floor(e.length/2)+t;r[a.toString()]=!0;for(var i=1;i<s.length;i++)r[(1^a).toString()]=!0,a=Math.floor(a/2);n.push(s)}));for(var s=!1;!s;){s=!0;var a=Object.keys(r).map((function(e){return Math.floor(e/2)})).sort().reverse();for(var i in a)Object.keys(r).includes((2*i).toString())&Object.keys(r).includes((2*i+1).toString())&!Object.keys(r).includes(i.toString())&&(r[i.toString()]=!0,s=!1)}var c={};t.map((function(e,t){return{i:e,b:n[t]}})).forEach((function(n){var s=Math.floor(e.length/2)+n.i;c[s]=!0;for(var a=1;a<n.b.length;a++)Object.keys(r).includes((2*(1^s)).toString())&Object.keys(r).includes((2*(1^s)+1).toString())|t.includes((1^s)-Math.floor(e.lenth/2))|Object.keys(c).includes((1^s).toString())&&(n.b[a]="0x"),c[1^s]=!0,s=Math.floor(s/2)}))}(Ze,[15,0]);function Fe(e){for(var t=function(e){n.includes(e)&n.includes(1^e)&&(n=(n=n.filter((function(t){return t!=e}))).filter((function(t){return t!=(1^e)})))},n=[],r=23;r>=16;r--){var s=1^r,a=e[r.toString()],i=e[s.toString()];a.active&!i.active&&n.push(s-8),a.active&i.active&&(n.push(a-8),n.push(s-8))}n.forEach((function(e){return n.push(1^Math.floor(e/2),1^Math.floor((1^Math.floor(e/2))/2))}));for(var c=0;c<15;c++)t(c);return n}function Ae(e){var t=function(e){return _[e].active},n=function(e){var n=j.active,r=_;t(e)?n=n.filter((function(t){return t!=e})):n.push(e),y({active:n}),t(e)?r[e]={active:!1}:r[e]={active:!0},k(r)},a=function(e,s,a){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return n(e+8)},id:"".concat(s,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:e,type:s,empty:c,level:a,chunkIdx:e,numChunks:8,selected:t(e+8)})},"".concat(s,"node").concat(e)))},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],l=8;l<16;l++)i(l);return o},i=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+U,type:t,empty:s,level:"branch",chunkIdx:i,numChunks:S,active:N.active.includes(i+e)})},"".concat(t,"node").concat(i)));return a},c=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+Math.pow(2,n),type:"",empty:s,level:"intermediate",chunkIdx:i,numChunks:S,active:N.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return a},o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},l=(0,s.useState)(0),d=l[0],u=(l[1],(0,s.useState)(!1)),h=u[0],f=u[1],p=(0,s.useState)([]),v=p[0],x=p[1],m=(0,s.useState)({active:[16]}),j=m[0],y=m[1],b=(0,s.useState)({active:[9,13,15,5]}),N=b[0],g=b[1],w=(0,s.useState)({16:{active:!0},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!0},23:{active:!1}}),_=w[0],k=w[1],S=e.NUMBER_OF_VALUES,U=o(S),M=(o(U+1),function(e){var t=[],n=o(e),s=n-e,l=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:"R",level:"root",active:h})})},"hashtreeroot"));for(var d=1;d<l-1;d++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(d),className:"row row-cols-auto justify-content-around",children:c(Math.pow(2,d),"T",d)},"treelevel:".concat(d)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:i(e+s,"","branch")},"hash")),t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:a(e,"","leaf")},"leaves")),t}(S));return(0,s.useEffect)((function(){var e=Fe(_);g({active:e})})),(0,s.useEffect)((function(){if(0!==d){var e=Array.from(j.active),t=e.indexOf(d);t<0?e.push(d):e.splice(t,1),y({active:e}),f(!0)}else f(!1),x(0)}),[d]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("p",{className:"text-center",children:"select combinations of (RED) leaves to show Merkle Proof"}),(0,r.jsx)("div",{className:"row",children:M}),(0,r.jsx)("div",{className:"row"}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaves: ",j.active.toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data: ",N.active.reverse().toString()]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("h4",{className:"text-center",children:["proof: H(H(",v[1],", H(",v[0],",",d-8,")),",v[2],") == R"]}),(0,r.jsx)("br",{})]})]})]})}function Ge(e){var t=function(e){return w[e].active},n=function(e){var n=m.active,r=w;t(e)?n=n.filter((function(t){return t!=e})):n.push(e),j({active:n}),t(e)?r[e]={active:!1}:r[e]={active:!0},_(r)},a=function(e,s,a){for(var i=function(e){o.push((0,r.jsx)("div",{onClick:function(){return n(e+8)},id:"".concat(s,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:e+14,type:s,empty:c,level:a,chunkIdx:e,numChunks:8,selected:t(e+8)})},"".concat(s,"node").concat(e)))},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],l=8;l<16;l++)i(l);return o},i=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+E+14,type:t,empty:s,level:"branch",chunkIdx:i,numChunks:M,active:b.active.includes(i+e)})},"".concat(t,"node").concat(i)));return a},c=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+Math.pow(2,n)+14,type:"",empty:s,level:"intermediate",chunkIdx:i,numChunks:M,active:b.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return a},o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},l=(0,s.useState)(0),d=l[0],u=(l[1],(0,s.useState)(!0)),h=u[0],f=u[1],p=(0,s.useState)([]),v=(p[0],p[1]),x=(0,s.useState)({active:[]}),m=x[0],j=x[1],y=(0,s.useState)({active:[]}),b=y[0],N=y[1],g=(0,s.useState)({16:{active:!1},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!1},21:{active:!1},22:{active:!1},23:{active:!1}}),w=g[0],_=g[1],k=(0,s.useState)([]),S=k[0],U=k[1];(0,s.useEffect)((function(){var t=[],n=e.leaves.active.filter((function(e){return 20!=e})).map((function(e){return e-8})),r=m.active.map((function(e){return e+6})),s=e.proof.active.map((function(e){return e})),a=b.active.map((function(e){return e+14}));n.forEach((function(e){return t.push(e)})),r.forEach((function(e){return t.push(e)})),s.forEach((function(e){return t.push(e)})),a.forEach((function(e){return t.push(e)})),U(t.sort((function(e,t){return e-t})))}));var M=e.NUMBER_OF_VALUES;(0,s.useEffect)((function(){n(23)}),[]),(0,s.useEffect)((function(){h?e.active(!0):e.active(!1)}),[h]);var E=o(M),z=(o(E+1),function(t){var n=[],s=o(t),l=s-t,d=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(s);n.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:e.origin,level:"root",active:h})})},"hashtreeroot"));for(var u=1;u<d-1;u++)n.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:c(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));return t>1&&n.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:i(t+l,"","branch")},"hash")),n.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:a(t,"","leaf")},"leaves")),n}(M));return(0,s.useEffect)((function(){var e=Fe(w);e=e.filter((function(e){return!isNaN(e)&1!=e}));var t=[];e.forEach((function(e){return!t.includes(e)&&t.push(e)})),N({active:t}),m.active.length>0?f(!0):f(!1)}),[m]),(0,s.useEffect)((function(){if(0!==d){var e=Array.from(m.active),t=e.indexOf(d);t<0?e.push(d):e.splice(t,1),j({active:e}),f(!0)}else f(!1),v(0)}),[d]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:z}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"click on leaf to show merkle proof"})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaves:"," ",e.leaves.active.filter((function(e){return 20!=e})).map((function(e){return e-8})).toString(),","," ",m.active.map((function(e){return e+6})).toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data:"," ",e.proof.active.reverse().map((function(e){return e})).toString(),",",b.active.map((function(e){return e+14})).reverse().toString()]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("h4",{className:"text-center",children:["proof: ",S.toString()," "]}),(0,r.jsx)("br",{})]})]})]})}function Pe(e){var t=function(e){return j[e].active},n=function(e){var n=h.active,r=j;t(e)?n=n.filter((function(t){return t!=e})):n.push(e),f({active:n}),t(e)?r[e]={active:!1}:r[e]={active:!0},y(r)},a=function(e,s,a){for(var i=function(e){12!=e?o.push((0,r.jsx)("div",{onClick:function(){return n(e+8)},id:"".concat(s,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:e,type:s,empty:c,level:a,chunkIdx:e,numChunks:8,selected:t(e+8)})},"".concat(s,"node").concat(e))):o.push((0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)("div",{className:"flexbox border-4 border",style:{height:"100%",paddingTop:"100%"}})}))},c=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],l=8;l<16;l++)i(l);return o},i=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+_,type:t,empty:s,level:"branch",chunkIdx:i,numChunks:w,active:v.active.includes(i+e)})},"".concat(t,"node").concat(i)));return a},c=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=0;i<e;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+Math.pow(2,n),type:"",empty:s,level:"intermediate",chunkIdx:i,numChunks:w,active:v.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return a},o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},l=(0,s.useState)(!1),d=l[0],u=(l[1],(0,s.useState)({active:[16,20]})),h=u[0],f=u[1],p=(0,s.useState)({active:[5,7,9,13]}),v=p[0],x=p[1],m=(0,s.useState)({16:{active:!0},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!1},23:{active:!1}}),j=m[0],y=m[1],b=(0,s.useState)(!0),N=b[0],g=b[1];(0,s.useEffect)((function(){var e=h.active,t=j;N?e.push(20):e=e.filter((function(e){return 20!=e})),f({active:e}),t[20]=N?{active:!0}:{active:!1},y(t)}),[N]);var w=e.NUMBER_OF_VALUES,_=o(w),k=(o(_+1),function(e){var t=[],n=o(e),s=n-e,l=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:"R",level:"root",active:d})})},"hashtreeroot"));for(var u=1;u<l-1;u++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:c(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:i(e+s,"","branch")},"hash")),t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:a(e,"","leaf")},"leaves")),t.push((0,r.jsxs)("div",{id:"subtree",className:"row justify-content-around",children:[(0,r.jsx)("div",{className:"col-2"}),(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)(Ge,{NUMBER_OF_VALUES:8,origin:12,active:g,leaves:h,proof:v})})]},"subtree")),t}(w));return(0,s.useEffect)((function(){var e=Fe(j);e=e.filter((function(e){return!isNaN(e)&1!=e})),x({active:e})})),(0,s.useEffect)((function(){var e=h.active;e=e.filter((function(e){return!isNaN(e)&1!=e})),x({active:e})}),[h]),(0,r.jsxs)("div",{className:"container pt-4",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"text-center",children:"Merkle Tree Leaves can be a Root of a nested Subtree."}),(0,r.jsx)("p",{className:"text-center",children:"select combinations of (RED) leaves to show Proof structure"})]}),(0,r.jsx)("div",{className:"row",children:k}),(0,r.jsx)("div",{className:"row"})]})}function He(e){var t=e.serialized,n=(e.values,e.length),s=e.size,a=Math.floor(n/(256/s))+1,i=a,c=(function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i),t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()})));(0,x.B)(c);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:i})})})})}console.log(Fe({16:{active:!1},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!0},23:{active:!1}}));for(var qe=[],We=0;We<4096;We++){var Je=Math.floor(255*Math.random());qe.push(Je)}function Ye(e){var t=(0,s.useState)("Uint8"),n=t[0],a=t[1],i=(0,s.useState)(1),c=i[0],o=i[1],l=(0,s.useState)([0]),d=l[0],u=l[1],h=(0,s.useState)(255),v=(h[0],h[1]),x=(0,s.useState)([]),m=x[0],j=x[1],y=(0,s.useState)(1),b=y[0],N=y[1],g=(0,s.useState)(8),w=g[0],_=g[1],k=(0,s.useState)(32),S=k[0],U=k[1],M=(0,s.useState)(p),E=(M[0],M[1],(0,s.useState)(511)),z=(E[0],E[1]),O=(0,s.useState)(qe),T=O[0],I=O[1],C=(0,s.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:1})),L=(C[0],C[1]);return(0,s.useEffect)((function(){L((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(c,"]"),NUMBER_OF_VALUES:b}))}),[b]),(0,s.useEffect)((function(){N(Math.floor(c/S+1)),u(T.slice(0,c))}),[c,n]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=w/8-1,r=0;r<b;r++){for(var s=new Uint8Array(32),a=0;a<32;a++)s=p.serialize(e[r*S+a],s,a*(w/8),w);r+1==b&&(s=p.serialize(1,s,(e.length*(w/8)+n)%(S*(w/8)),w)),t.push(s)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(He,{serialized:m,values:d,length:c,size:w,children:e.children})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var s=[],i=0;i<16*r;i++){var c=Math.floor(Math.random()*t);s.push(c)}I(s),v(t),_(n),U(r),a(e),o(1),z(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]}),(0,r.jsx)("h5",{className:"text-center",children:"Type"}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:c,className:"form-range",onChange:function(e){return o(e.target.value)},min:1,max:8*S-1,id:"length"})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("h5",{className:"text-center",children:["Length ",(0,r.jsx)("h6",{className:"text-center",children:c})]})]}),(0,r.jsx)("h5",{className:"text-center",style:{color:"black"},children:"Vector<".concat(n,", ").concat(c,">")})]})]})}function Xe(e){e.serialized,e.values;var t=e.length,n=e.size,s=e.variable,a=256/n,i=t/(256/n),c=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(v.Z,{limit:t,chunks:i,length:s,valuesPerChunk:a,numberofLeaves:c})})})})}function Ke(e){var t=function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var s=[],a=0;a<512;a++){var c=Math.floor(Math.random()*t);s.push(c)}z(n),j(t),w(r),B(s),i(e),l(r-1),h(k*r),S(Math.ceil(u/g))},n=(0,s.useState)("Uint8"),a=n[0],i=n[1],c=(0,s.useState)(16),o=c[0],l=c[1],d=(0,s.useState)(32),u=d[0],h=d[1],f=(0,s.useState)([]),v=f[0],x=f[1],m=(0,s.useState)(255),j=(m[0],m[1]),y=(0,s.useState)(0),b=(y[0],y[1]),N=(0,s.useState)(32),g=N[0],w=N[1],_=(0,s.useState)(1),k=_[0],S=_[1],U=(0,s.useState)(1),M=(U[0],U[1],(0,s.useState)(8)),E=M[0],z=M[1],O=(0,s.useState)([]),T=O[0],I=O[1],C=(0,s.useState)([]),L=C[0],B=C[1];return(0,s.useEffect)((function(){t(a);var e=L.slice(0,o);x(e)}),[]),(0,s.useEffect)((function(){var e=Math.ceil(u/g),t=L.slice(0,o);x(t);var n=Math.floor((o+g)/g);b(e-n),S(e)}),[o,u]),(0,s.useEffect)((function(){var e=Math.floor((o+g)/g);b(k-e)}),[k]),(0,s.useEffect)((function(){u<o&&l(u-1);var e=Math.ceil(u/g),t=Math.floor((o+g)/g);b(k-t),S(e)}),[u]),(0,s.useEffect)((function(){S(Math.ceil(u/g));var e=Math.floor((o+g)/g);b(k-e)}),[o,g,u]),(0,s.useEffect)((function(){!function(e){for(var t=[],n=E/8-1,r=0;r<k;r++){var s=new Uint8Array(32);s.fill(0);for(var a=0;a<g;a++)s=p.serialize(e[r*g+a],s,a*(E/8),E);r==Math.floor(o/g)&&(s=p.serialize(1,s,(o*E/8+n)%32,E)),t.push(s)}I(t)}(v)}),[v]),(0,s.useEffect)((function(){S(Math.ceil(u/g))}),[o,u]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Xe,{serialized:T,values:v,length:u,variable:o,size:E,children:e.children})}),(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col-3 px-3",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return t(e.target.value)},children:[(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return t=e.target.value,void l(t);var t},min:0,max:u-1,id:"length"}),(0,r.jsxs)("p",{className:"text-center",children:["Variable Length: ",o]})]}),(0,r.jsxs)("div",{className:"col-3 px-3",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{value:u,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=u;e<8*g?e+=g:alert("Tree depth capped for demonstration purposes"),h(e)},children:"Limit Up"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=u;e>g?e-=g:alert("Limit cannot be zero"),h(e)},children:"Limit Down"})})]})]}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:function(){var e=u;return"List <elementType: ".concat(a,", limit: ").concat(e,">")}()})})]})}n(3616);function Qe(e){e.values;var t=e.length/1;!function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:t})})})}function $e(e){for(var t=(0,s.useState)(5),n=t[0],a=t[1],i=[],c=0;c<16;c++){for(var o="",l=0;l<64;l++){o+="abcdef0123456789"[Math.floor(16*Math.random())]}i.push(o)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-evenly",children:[(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n>1&&a(n-1)},children:"Less"})}),(0,r.jsx)("div",{className:"col-3",children:(0,r.jsxs)("h4",{children:["Container: ",n," fields"]})}),(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n<16&&a(n+1)},children:"More"})}),(0,r.jsx)("div",{className:"col-5"})]}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)(Qe,{length:n,values:i,size:256,children:e.children})})]})}function et(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"row pt-3 text-center border-bottom",children:(0,r.jsx)("h2",{className:"text-center",children:"Interactive Merkle Trees: "})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h3",{className:"text-center",children:"Vector"})}),(0,r.jsx)("div",{className:"row py-4 border-bottom",children:(0,r.jsx)(Ye,{})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h3",{className:"text-center",children:"List"})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(Ke,{})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h4",{className:"text-center",children:"CONTAINERS"})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)($e,{})})]})}function tt(e){var t=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=8;i<16;i++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i+14,type:t,empty:s,level:n,chunkIdx:i,numChunks:8})},"".concat(t,"node").concat(i)));return a},n=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],o=0;o<e;o++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:o+c+14,type:t,empty:s,level:"branch",chunkIdx:o,numChunks:i})},"".concat(t,"node").concat(o)));return a},s=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],c=0;c<e;c++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:c+Math.pow(2,n)+14,type:"",empty:s,level:"intermediate",chunkIdx:c,numChunks:i})},"".concat(t,"node").concat(c)));return a},a=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},i=e.NUMBER_OF_VALUES,c=a(i),o=(a(c+1),function(i){var c=[],o=a(i),l=o-i,d=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(o);c.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:e.origin,level:"root"})})},"hashtreeroot"));for(var u=1;u<d-1;u++)c.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:s(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));return i>1&&c.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:n(i+l,"","branch")},"hash")),c.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:t(i,"","leaf")},"leaves")),c}(i));return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:o})})}function nt(e){var t=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],i=8;i<16;i++)12!=i?a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:i,type:t,empty:s,level:n,chunkIdx:i,numChunks:8})},"".concat(t,"node").concat(i))):a.push((0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)("div",{className:"flexbox border-4 border",style:{height:"100%",paddingTop:"100%"}})}));return a},n=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],o=0;o<e;o++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:o+c,type:t,empty:s,level:"branch",chunkIdx:o,numChunks:i})},"".concat(t,"node").concat(o)));return a},s=function(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=[],c=0;c<e;c++)a.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Be.Z,{idx:c+Math.pow(2,n),type:"",empty:s,level:"intermediate",chunkIdx:c,numChunks:i})},"".concat(t,"node").concat(c)));return a},a=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}},i=e.NUMBER_OF_VALUES,c=a(i),o=(a(c+1),function(e){var i=[],c=a(e),o=c-e,l=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(c);i.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Be.Z,{type:"R",level:"root"})})},"hashtreeroot"));for(var d=1;d<l-1;d++)i.push((0,r.jsx)("div",{id:"treelevel:".concat(d),className:"row row-cols-auto justify-content-around",children:s(Math.pow(2,d),"T",d)},"treelevel:".concat(d)));return e>1&&i.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:n(e+o,"","branch")},"hash")),i.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:t(e,"","leaf")},"leaves")),i.push((0,r.jsxs)("div",{id:"subtree",className:"row justify-content-around",children:[(0,r.jsx)("div",{className:"col-2"}),(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)(tt,{NUMBER_OF_VALUES:8,origin:12})})]},"subtree")),i}(i));return(0,r.jsx)("div",{className:"container pt-4",children:(0,r.jsx)("div",{className:"row",children:o})})}function rt(e){return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6 border-end",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Re,{NUMBER_OF_VALUES:4})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(nt,{NUMBER_OF_VALUES:8})})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(et,{})})})]})}function st(e){return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Re,{NUMBER_OF_VALUES:3})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h3",{className:"text-center",children:"Classic Single-Leaf Inclusion Proofs:"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ve,{NUMBER_OF_VALUES:8})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h3",{className:"text-center",children:"Multiple-Leaf Proofs a.k.a. Multi-Proofs:"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ae,{NUMBER_OF_VALUES:8})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Pe,{NUMBER_OF_VALUES:8})})]})]})}var at={getpoweroftwoceil:{javascript:"const get_power_of_two_ceil = (x) => {\n        if (x <= 1) {\n            return 1\n        } else if (x == 2) {\n            return 2\n        } else {\n            return 2 * get_power_of_two_ceil(Math.floor((x + 1) / 2))\n        };\n    };\n      ",python:"def get_power_of_two_ceil(x):\n    if x <= 1:\n        return 1\n    elif x == 2:\n        return 2\n    else:\n        return 2 * get_power_of_two_ceil((x + 1) // 2)\n      ",typescript:"function get_power_of_two_ceil(x: number): number {\n      if (x <= 1) {\n          return 1\n      } else if (x == 2) {\n          return 2\n      } else {\n          return 2 * get_power_of_two_ceil(Math.floor((x + 1) / 2))\n      };\n  };\n      "},getpoweroftwofloor:{python:'\n    def get_power_of_two_floor(x: int) -> int:\n        """\n        Get the power of 2 for given input, or the closest lower power of 2 if the input is not a power of 2.\n        The zero case is a placeholder and not used for math with generalized indices.\n        Commonly used for "what power of two makes up the root bit of the generalized index?"\n        Example: 0->1, 1->1, 2->2, 3->2, 4->4, 5->4, 6->4, 7->4, 8->8, 9->8\n        """\n        if x <= 1:\n            return 1\n        if x == 2:\n            return x\n        else:\n            return 2 * get_power_of_two_floor(x // 2)\n    ',javascript:"TODO",typescript:"TODO"},calculate_merkle_root:{python:'\ndef get_generalized_index(typ: SSZType, path: Sequence[Union[int, SSZVariableName]]) -> GeneralizedIndex:\n    """\n    Converts a path (eg. \'[7, "foo", 3]\' for \'x[7].foo[3]\', \'[12, "bar", "__len__"]\' for\n    \'len(x[12].bar)\') into the generalized index representing its position in the Merkle tree.\n    """\n    root = GeneralizedIndex(1)\n    for p in path:\n        assert not issubclass(typ, BasicValue)  # If we descend to a basic type, the path cannot continue further\n        if p == \'__len__\':\n            typ = uint64\n            assert issubclass(typ, (List, ByteList))\n            root = GeneralizedIndex(root * 2 + 1)\n        else:\n            pos, _, _ = get_item_position(typ, p)\n            base_index = (GeneralizedIndex(2) if issubclass(typ, (List, ByteList)) else GeneralizedIndex(1))\n            root = GeneralizedIndex(root * base_index * get_power_of_two_ceil(chunk_count(typ)) + pos)\n            typ = get_elem_type(typ, p)\n    return root\n'},calculate_multi_merkle_root:{python:"\ndef calculate_merkle_root(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex) -> Root:\n    assert len(proof) == get_generalized_index_length(index)\n    for i, h in enumerate(proof):\n        if get_generalized_index_bit(index, i):\n            leaf = hash(h + leaf)\n        else:\n            leaf = hash(leaf + h)\n    return leaf\n",javascript:"TODO"},chunk_count:{python:"\n    def chunk_count(typ: SSZType) -> int:\n        \"\"\"\n        Return the number of hashes needed to represent the top-level elements in the given type\n        (eg. 'x.foo' or 'x[7]' but not 'x[7].bar' or 'x.foo.baz'). In all cases except lists/vectors\n        of basic types, this is simply the number of top-level elements, as each element gets one\n        hash. For lists/vectors of basic types, it is often fewer because multiple basic elements\n        can be packed into one 32-byte chunk.\n        \"\"\"\n        # typ.length describes the limit for list types, or the length for vector types.\n        if issubclass(typ, BasicValue):\n            return 1\n        elif issubclass(typ, Bits):\n            return (typ.length + 255) // 256\n        elif issubclass(typ, Elements):\n            return (typ.length * item_length(typ.elem_type) + 31) // 32\n        elif issubclass(typ, Container):\n            return len(typ.get_fields())\n        else:\n            raise Exception(f\"Type not supported: {typ}\")\n    ",javascript:"TODO",typescript:"TODO"},concat_general_indices:{python:'\n    def concat_generalized_indices(*indices: GeneralizedIndex) -> GeneralizedIndex:\n        """\n        Given generalized indices i1 for A -> B, i2 for B -> C .... i_n for Y -> Z, returns\n        the generalized index for A -> Z.\n        """\n        o = GeneralizedIndex(1)\n        for i in indices:\n            o = GeneralizedIndex(o * get_power_of_two_floor(i) + (i - get_power_of_two_floor(i)))\n        return o\n    ',javascript:"TODO",typescript:"TODO"},generalized_index_parent:{python:"\n    def generalized_index_parent(index: GeneralizedIndex) -> GeneralizedIndex:\n        return GeneralizedIndex(index // 2)\n    ",javascript:"TODO",typescript:"TODO"},generalized_index_sibling:{python:"\n    def generalized_index_sibling(index: GeneralizedIndex) -> GeneralizedIndex:\n        return GeneralizedIndex(index ^ 1)\n    ",javascript:"TODO",typescript:"TODO"},generlized_index_child:{python:"\n    def generalized_index_child(index: GeneralizedIndex, right_side: bool) -> GeneralizedIndex:\n        return GeneralizedIndex(index * 2 + right_side)\n    ",javascript:"TODO",typescript:"TODO"},get_branch_indices:{python:'\n    def get_branch_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of the sister chunks along the path from the chunk with the\n        given tree index to the root.\n        """\n        o = [generalized_index_sibling(tree_index)]\n        while o[-1] > 1:\n            o.append(generalized_index_sibling(generalized_index_parent(o[-1])))\n        return o[:-1]\n    ',javascript:"TODO",typescript:"TODO"},get_elem_type:{python:'\n    def get_elem_type(typ: Union[BaseBytes, BaseList, Container],\n        index_or_variable_name: Union[int, SSZVariableName]) -> SSZType:\n        """\n        Return the type of the element of an object of the given type with the given index\n        or member variable name (eg. \'7\' for \'x[7]\', "foo" for \'x.foo\')\n        """\n        return typ.get_fields()[index_or_variable_name] if issubclass(typ, Container) else typ.elem_type\n    ',javascript:"TODO",typescript:"TODO"},get_generalized_index_bit:{python:'\n    def get_generalized_index_bit(index: GeneralizedIndex, position: int) -> bool:\n        """\n        Return the given bit of a generalized index.\n        """\n        return (index & (1 << position)) > 0\n    ',javascript:"TODO",typescript:"TODO"},get_generalized_index:{python:'\n    def get_generalized_index_length(index: GeneralizedIndex) -> int:\n        """\n        Return the length of a path represented by a generalized index.\n        """\n        return int(log2(index))\n    ',javascript:"TODO",typescript:"TODO"},get_helper_indices:{python:'\n    def get_helper_indices(indices: Sequence[GeneralizedIndex]) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of all "extra" chunks in the tree needed to prove the chunks with the given\n        generalized indices. Note that the decreasing order is chosen deliberately to ensure equivalence to the\n        order of hashes in a regular single-item Merkle proof in the single-item case.\n        """\n        all_helper_indices: Set[GeneralizedIndex] = set()\n        all_path_indices: Set[GeneralizedIndex] = set()\n        for index in indices:\n            all_helper_indices = all_helper_indices.union(set(get_branch_indices(index)))\n            all_path_indices = all_path_indices.union(set(get_path_indices(index)))\n\n        return sorted(all_helper_indices.difference(all_path_indices), reverse=True)\n\n    ',javascript:"TODO",typescript:"TODO"},get_item_position:{python:'\n    def get_item_position(typ: SSZType, index_or_variable_name: Union[int, SSZVariableName]) -> Tuple[int, int, int]:\n        """\n        Return three variables:\n            (i) the index of the chunk in which the given element of the item is represented;\n            (ii) the starting byte position within the chunk;\n            (iii) the ending byte position within the chunk.\n        For example: for a 6-item list of uint64 values, index=2 will return (0, 16, 24), index=5 will return (1, 8, 16)\n        """\n        if issubclass(typ, Elements):\n            index = int(index_or_variable_name)\n            start = index * item_length(typ.elem_type)\n            return start // 32, start % 32, start % 32 + item_length(typ.elem_type)\n        elif issubclass(typ, Container):\n            variable_name = index_or_variable_name\n            return typ.get_field_names().index(variable_name), 0, item_length(get_elem_type(typ, variable_name))\n        else:\n            raise Exception("Only lists/vectors/containers supported")\n    ',javascript:"TODO",typescript:"TODO"},get_path_indices:{python:'\n    def get_path_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of the chunks along the path from the chunk with the\n        given tree index to the root.\n        """\n        o = [tree_index]\n        while o[-1] > 1:\n            o.append(generalized_index_parent(o[-1]))\n        return o[:-1]\n    ',javascript:"TODO",typescript:"TODO",item_length:{python:'\n    def item_length(typ: SSZType) -> int:\n    """\n    Return the number of bytes in a basic type, or 32 (a full hash) for compound types.\n    """\n    if issubclass(typ, BasicValue):\n        return typ.byte_len\n    else:\n        return 32\n    ',javascript:"TODO",typescript:"TODO"},merkle_tree:{python:'\n    def merkle_tree(leaves: Sequence[Bytes32]) -> Sequence[Bytes32]:\n    """\n    Return an array representing the tree nodes by generalized index:\n    [0, 1, 2, 3, 4, 5, 6, 7], where each layer is a power of 2. The 0 index is ignored. The 1 index is the root.\n    The result will be twice the size as the padded bottom layer for the input leaves.\n    """\n    bottom_length = get_power_of_two_ceil(len(leaves))\n    o = [Bytes32()] * bottom_length + list(leaves) + [Bytes32()] * (bottom_length - len(leaves))\n    for i in range(bottom_length - 1, 0, -1):\n        o[i] = hash(o[i * 2] + o[i * 2 + 1])\n    return o\n    ',javascript:"TODO",typescript:"TODO"},verify_merkle_multiproof:{python:"\n    def calculate_multi_merkle_root(leaves: Sequence[Bytes32], proof: Sequence[Bytes32], indices: Sequence[GeneralizedIndex]) -> Root:\n        assert len(leaves) == len(indices)\n        helper_indices = get_helper_indices(indices)\n        assert len(proof) == len(helper_indices)\n        objects = {\n            **{index: node for index, node in zip(indices, leaves)},\n            **{index: node for index, node in zip(helper_indices, proof)}\n        }\n        keys = sorted(objects.keys(), reverse=True)\n        pos = 0\n        while pos < len(keys):\n            k = keys[pos]\n            if k in objects and k ^ 1 in objects and k // 2 not in objects:\n                objects[GeneralizedIndex(k // 2)] = hash(\n                    objects[GeneralizedIndex((k | 1) ^ 1)] +\n                    objects[GeneralizedIndex(k | 1)]\n                )\n                keys.append(GeneralizedIndex(k // 2))\n            pos += 1\n        return objects[GeneralizedIndex(1)]\n        ",javascript:"TODO",typescript:"TODO"},verify_merkle_proof:{python:"\n    def verify_merkle_proof(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex, root: Root) -> bool:\n    return calculate_merkle_root(leaf, proof, index) == root\n    ",javascript:"TODO",typescript:"TODO"}}};var it=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ct(){var e=(0,s.useState)("python"),t=e[0],n=(e[1],(0,s.useState)(at.getpoweroftwoceil)),a=n[0],i=n[1],c=(0,s.useState)(at.getpoweroftwoceil.python),l=c[0],d=c[1],u=(0,s.useState)(!0),h=(u[0],u[1],(0,s.useState)(at)),f=h[0],p=(h[1],(0,s.useState)(f[a])),v=(p[0],p[1],o.iz);return(0,s.useEffect)((function(){d(a.python)}),[a]),console.log(at),console.log("undefined"===typeof at?"undefined":it(at)),console.log(Object.keys(at)),console.log(Object.keys(a)),console.log(it(Object.keys(at)[3])),console.log(it(Object.keys(a)[1])),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-3",children:[" ",(0,r.jsx)("div",{className:"btn-group-vertical",children:Object.keys(f).map((function(e,t){return(0,r.jsx)("button",{type:"button",onClick:function(){return i(at[t=e]),void d(at[t].python);var t},className:"btn border btn-light",children:e})}))})]}),(0,r.jsxs)("div",{className:"col-9",children:[(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h4",{children:"python"}),"        ",(0,r.jsx)(o.Z1,{language:t,text:l,showLineNumbers:!1,theme:v,wrapLines:!0,codeBlock:!0})]}),void 0!=a.javascript?(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h4",{children:"javascript"}),(0,r.jsx)(o.Z1,{language:t,text:a.javascript,showLineNumbers:!1,theme:v,wrapLines:!0,codeBlock:!0})]}):(0,r.jsx)(r.Fragment,{})]})]})}function ot(e){return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(ct,{})})]})}function lt(e){return(0,r.jsxs)("div",{className:"container p-4 text-center",children:[(0,r.jsx)(i(),{children:e.text}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"btn-group"})})]})}function dt(e){return(0,r.jsx)("div",{className:"row mt=4",children:"Typing"==e.topic?(0,r.jsx)(de,{}):"Overview"==e.topic?(0,r.jsx)(lt,{text:e.text}):"Aliases"==e.topic?(0,r.jsx)(fe,{text:e.text}):"Serialization"==e.topic?(0,r.jsx)(Le,{}):"Merkle_Trees"==e.topic?(0,r.jsx)(rt,{text:e.text}):"Merkle_Proofs"==e.topic?(0,r.jsx)(st,{text:e.text}):"Helper_Functions"==e.topic?(0,r.jsx)(ot,{text:e.text}):(0,r.jsx)(de,{})})}function ut(e){var t=(0,s.useState)("Overview"),n=t[0],a=t[1],i=(0,s.useState)(e.text[0].data),c=i[0],o=i[1];e.text;return(0,r.jsxs)("div",{className:"container position-relative",children:[(0,r.jsx)("div",{className:"row position-fixed mt-5 fixed-top",children:(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("ul",{className:"nav bg-light nav-tabs",children:[e.text.map((function(e,t){return(0,r.jsx)("li",{className:"nav-item ",children:(0,r.jsx)("button",{className:"nav-link ".concat(e.topic==n&&"active"),onClick:function(){return a(e.topic)},onMouseUp:function(){return o(e.data)},children:e.topic})},t)})),(0,r.jsx)("li",{children:(0,r.jsx)("h2",{children:"OVERVIEW"})}),(0,r.jsx)("li",{children:(0,r.jsx)("p",{children:"This overview is an explanation and visualization of the Simple-Serialize Merkle-Proof specs. Most of the visualizations are interactive."})})]})})}),(0,r.jsx)("div",{className:"row mt-4"}),(0,r.jsx)("div",{className:"row mt-4",children:(0,r.jsx)("div",{className:"col mt-4 pt-4",children:(0,r.jsx)(dt,{topic:n,text:c})})})]})}},25500:function(e,t,n){n.d(t,{Z:function(){return i}});var r=n(85893),s=n(4591),a=n(67294);function i(e){var t=function(e){return h===e},n=function(e){return j.includes(e)},i=function(e){f(h!==e?e:0)},c=function(e,n,a){for(var c=function(e){l.push((0,r.jsx)("div",{onClick:function(){return i("".concat(e))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(s.Z,{idx:d[e-64],type:n,empty:o,level:"intro",chunkIdx:e-64,numChunks:b,selected:t("".concat(e))})},"".concat(n,"node").concat(e)))},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=[],d="SIMPLE_______SSZ_______SERIALIZE",u=64;u<96;u++)c(u);return l},o=function(e,n,a){for(var c=function(e){l.push((0,r.jsx)("div",{onClick:function(){return i("".concat(e+b))},id:"".concat(n,"node").concat(e),className:"col p-1",children:(0,r.jsx)(s.Z,{idx:e-N+b,type:n,empty:o,level:a,chunkIdx:e-N+b,numChunks:b,selected:t("".concat(e+b))})},"".concat(n,"node").concat(e)))},o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=[],d=N;d<N+e;d++)c(d);return l},l=function(e,t,a){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=[],o=32;o<64;o++)c.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(s.Z,{idx:o,type:t,empty:i,level:a,chunkIdx:o,numChunks:b,active:n(o)})},"".concat(t,"node").concat(o)));return c},d=function(e,t,a){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=[],o=0;o<e;o++)c.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(s.Z,{idx:o+Math.pow(2,a),type:"",empty:i,level:a,chunkIdx:o,numChunks:b,active:n(o+Math.pow(2,a))})},"".concat(t,"node").concat(o)));return c},u=(0,a.useState)(0),h=u[0],f=u[1],p=(0,a.useState)(!1),v=p[0],x=p[1],m=(0,a.useState)([]),j=m[0],y=m[1],b=(e.animate,32),N=64;return(0,a.useEffect)((function(){var e=new Array(5);if(0!==h){x(!0);e[0]=h%2==0?h-31:h-33;for(var t=0;t<5;t++)Math.floor(e[t]/2)%2==0?e[t+1]=Math.floor(e[t]/2)+1:e[t+1]=Math.floor(e[t]/2)-1;y(e)}else x(!1),y([])}),[h]),function(e){var t=[],n=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(e),a=n-e,i=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(s.Z,{type:"R",level:"root",active:v})})},"hashtreeroot"));for(var u=1;u<i-1;u++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:d(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:l(e+a,"","branch")},"hash")),t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[c(e,"","intro"),o(a,"","leaf",!0)]},"leaves")),t}(32)}}}]);