(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1120],{93162:function(e,t,n){var r,a,s;a=[],void 0===(s="function"===typeof(r=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){c(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function a(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function s(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var i="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,o=i.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=i.saveAs||("object"!=typeof window||window!==i?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(e,t,n){var o=i.URL||i.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener","string"==typeof e?(c.href=e,c.origin===location.origin?s(c):a(c.href)?r(e,t,n):s(c,c.target="_blank")):(c.href=o.createObjectURL(e),setTimeout((function(){o.revokeObjectURL(c.href)}),4e4),setTimeout((function(){s(c)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,i){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,i),n);else if(a(e))r(e,n,i);else{var o=document.createElement("a");o.href=e,o.target="_blank",setTimeout((function(){s(o)}))}}:function(e,t,n,a){if((a=a||open("","_blank"))&&(a.document.title=a.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var s="application/octet-stream"===e.type,c=/constructor/i.test(i.HTMLElement)||i.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||s&&c||o)&&"undefined"!=typeof FileReader){var d=new FileReader;d.onloadend=function(){var e=d.result;e=l?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),a?a.location.href=e:location=e,a=null},d.readAsDataURL(e)}else{var u=i.URL||i.webkitURL,h=u.createObjectURL(e);a?a.location=h:location.href=h,a=null,setTimeout((function(){u.revokeObjectURL(h)}),4e4)}});i.saveAs=c.saveAs=c,e.exports=c})?r.apply(t,a):r)||(e.exports=s)},21120:function(e,t,n){"use strict";n.d(t,{Z:function(){return et}});var r=n(85893),a=n(67294),s=n(30724),i=n.n(s);n(10043),n(88574),n(34490);function o(){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("p",{className:"text-center",children:"as 32 Byte leaf:"}),(0,r.jsx)("div",{className:"col text-break border",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{style:{color:"blue"},children:"0x"}),(0,r.jsx)("span",{style:{color:"green"},children:"01"}),(0,r.jsx)("span",{style:{color:"red"},children:"00000000000000000000000000000000000000000000000000000000000000"})]})})]}),(0,r.jsx)("div",{classNaeme:"row justify-content-center",children:(0,r.jsx)("p",{className:"text-center",children:"^"})}),(0,r.jsx)("div",{className:"row justify-content-center border",children:(0,r.jsx)("div",{className:"co",children:(0,r.jsxs)("p",{className:"text-center",children:["serialized: ",(0,r.jsx)("span",{style:{color:"blue"},children:"0x"}),(0,r.jsx)("span",{style:{color:"green"},children:"01"})]})})})]})}var c=n(87954),l=n(43356),d=n(22169);function u(e){var t=(0,a.useState)(0),n=t[0],s=t[1],i=(0,a.useState)(!1),o=i[0],c=i[1],l=(0,a.useState)([]),u=l[0],h=l[1],f=e.NUMBER_OF_VALUES;function p(e){return n===e}function v(e){return u.includes(e)}var x=_(f),m=_(x+1),j=function(e){var t=[],n=_(e),a=n-e,s=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(d.Z,{type:"R",level:"root",active:o})})},"hashtreeroot"));for(var i=1;i<s-1;i++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(i),className:"row row-cols-auto justify-content-around",children:w(Math.pow(2,i),"T",i)},"treelevel:".concat(i)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:N(e+a,"","branch")},"hash"));return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[b(e,"","leaf"),g(a,"","leaf",!0)]},"leaves")),t}(f);function y(e){s(n!==e?e:0)}function b(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return y("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:e-m,type:t,empty:a,level:n,chunkIdx:e-m,numChunks:f,selected:p("".concat(e))})},"".concat(t,"node").concat(e)))},o=m;o<m+e;o++)i(o);return s}function g(e,t,n){for(var a=[],s=function(e){a.push((0,r.jsx)("div",{onClick:function(){return y("".concat(e+f))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:e-m+f,type:t,empty:!0,level:"leaf",chunkIdx:e-m+f,numChunks:f,selected:p("".concat(e+f))})},"".concat(t,"node").concat(e)))},i=m;i<m+e;i++)s(i);return a}function N(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:i+x,type:t,empty:a,level:"branch",chunkIdx:i,numChunks:f,active:v(i+e)})},"".concat(t,"node").concat(i)));return s}function w(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(d.Z,{idx:i+Math.pow(2,n),type:"",empty:a,level:"intermediate",chunkIdx:i,numChunks:f,active:v(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return s}function _(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){0!==n?(c(!0),h(4==n?[3]:5==n?[2]:8==n?[5,3]:9==n?[4,3]:10==n?[7,2]:11==n?[6,2]:16==n?[9,5,3]:17==n?[8,5,3]:18==n?[11,4,3]:19==n?[10,4,3]:20==n?[13,7,2]:21==n?[12,7,2]:22==n?[15,6,2]:23==n?[14,6,2]:[])):(c(!1),h([]))}),[n]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"row",children:j})})}var h=n(25722),f=n(81678),p=n(70663),v=(n(25216),n(37159)),x=(n(38856),n(8670)),m=n(55835);function j(e){var t=e.serialized,n=e.valuesPerChunk,a=e.limit,s=(e.values,e.size,e.length),i=(e.numEmpty,Math.floor(a/n)),o=c(i);function c(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}c(t.length);var l=t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(l);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(v.Z,{limit:a,chunks:i,length:s,valuesPerChunk:n,numberofLeaves:o})}),(0,r.jsx)("br",{})]})})}function y(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(0),o=i[0],c=i[1],l=(0,a.useState)(32),d=l[0],u=l[1],h=(0,a.useState)([]),v=h[0],x=h[1],m=(0,a.useState)(255),y=(m[0],m[1],(0,a.useState)(0)),b=y[0],g=y[1],N=(0,a.useState)(32),w=N[0],_=(N[1],(0,a.useState)(1)),k=_[0],S=_[1],M=(0,a.useState)(1),U=(M[0],M[1],(0,a.useState)(8)),E=U[0],z=(U[1],(0,a.useState)([])),T=z[0],O=z[1],I=(0,a.useState)([]),C=I[0],L=(I[1],(0,a.useState)((0,r.jsx)(f.ZP,{NUMBER_OF_VALUES:1,list:!0,red:0}))),B=(L[0],L[1]);return(0,a.useEffect)((function(){var e=Math.ceil(d/w),t=C.slice(0,o);x(t);var n=Math.floor((o+w)/w);g(e-n),S(e)}),[o,d]),(0,a.useEffect)((function(){var e=Math.floor((o+w)/w);g(k-e),B((0,r.jsx)(f.ZP,{NUMBER_OF_VALUES:k,list:!0,red:b}))}),[k]),(0,a.useEffect)((function(){d<o&&c(d-1);var e=Math.ceil(d/w),t=Math.floor((o+w)/w);g(k-t),S(e)}),[d]),(0,a.useEffect)((function(){S(Math.ceil(d/w));var e=Math.floor((o+w)/w);g(k-e)}),[o,w,d]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=E/8-1,r=0;r<k;r++){var a=new Uint16Array(32);a.fill(0);for(var s=0;s<w;s++)a=p.serialize(e[r*w+s],a,s*(E/8),E);r==Math.floor(o/w)&&(a=p.serialize(1,a,(o*E/8+n)%32,E)),t.push(a)}O(t)}(v)}),[v]),(0,a.useEffect)((function(){S(Math.ceil(d/w))}),[o,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(j,{serialized:T,valuesPerChunk:w,size:E,limit:d,numEmpty:0,values:v,length:E*d-1,children:e.children})}),(0,r.jsxs)("div",{className:"d-flex flex-row justify-content-center",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return s(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:"Element Type"}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint256"})]})}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e>w?e-=w:alert("Limit cannot be zero"),u(e)},children:"Limit Down"})}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("button",{value:d,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e<8*w?e+=w:alert("Tree depth capped for demonstration purposes"),u(e)},children:"Limit Up"})})]})})]}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:"List<".concat(n,", ").concat(d,">")})})]})}n(87247);function b(e){var t=e.serialized,n=(e.values,e.length),a=e.size,s=Math.floor(n/(256/a))+1,i=s;!function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i);var o=t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(o);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(u,{NUMBER_OF_VALUES:i})})})})}for(var g=[],N=0;N<4096;N++){var w=Math.floor(255*Math.random());g.push(w)}function _(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(1),o=i[0],c=i[1],l=(0,a.useState)([0]),d=l[0],u=l[1],h=(0,a.useState)(255),v=(h[0],h[1]),x=(0,a.useState)([]),m=x[0],j=x[1],y=(0,a.useState)(1),N=y[0],w=y[1],_=(0,a.useState)(8),k=_[0],S=_[1],M=(0,a.useState)(32),U=M[0],E=M[1],z=(0,a.useState)(p),T=(z[0],z[1],(0,a.useState)(511)),O=(T[0],T[1]),I=(0,a.useState)(g),C=I[0],L=I[1],B=(0,a.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:1})),R=(B[0],B[1]);return(0,a.useEffect)((function(){R((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:N}))}),[N]),(0,a.useEffect)((function(){w(Math.floor(o/U+1)),u(C.slice(0,o))}),[o,n]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=k/8-1,r=0;r<N;r++){for(var a=new Uint8Array(32),s=0;s<32;s++)a=p.serialize(e[r*U+s],a,s*(k/8),k);r+1==N&&(a=p.serialize(1,a,(e.length*(k/8)+n)%(U*(k/8)),k)),t.push(a)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(b,{serialized:m,values:d,length:o,size:k,children:e.children})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var a=[],i=0;i<16*r;i++){var o=Math.floor(Math.random()*t);a.push(o)}L(a),v(t),S(n),E(r),s(e),c(1),O(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint256"})]}),(0,r.jsx)("label",{for:"length",className:"form-label",children:(0,r.jsx)("h3",{style:{color:"black"},children:"Vector<".concat(n,", ").concat(o,">")})}),(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return c(e.target.value)},min:1,max:8*U-1,id:"length"}),(0,r.jsx)("br",{}),(0,r.jsx)("h4",{className:"text-center",children:"Length"}),(0,r.jsx)("br",{})]})]})}var k=n(809),S=n.n(k),M=n(92447),U=n(74047),E=n(52700),z=n(33814),T=n(44102),O=n(20775);function I(e){return(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:[(0,r.jsxs)("span",{style:{color:"blue"},children:[" ",e.value.substring(0,2)," "]}),(0,r.jsx)("span",{children:e.value.substring(2)})]})})}var C=n(97529),L=n(93162),B=n(89856);function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var a=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.Z)(this,n)}}var Z=function(e){(0,z.Z)(n,e);var t=R(n);function n(e){var r;return(0,U.Z)(this,n),(r=t.call(this,e)).state={showError:!1,outputType:"hex"},r}return(0,E.Z)(n,[{key:"componentDidUpdate",value:function(e){e.serializeModeOn!==this.props.serializeModeOn&&(this.props.serializeModeOn?this.setOutputType("hex"):this.setOutputType("yaml"))}},{key:"hideError",value:function(){this.setState({showError:!1})}},{key:"setOutputType",value:function(e){this.setState({outputType:e})}},{key:"downloadFile",value:function(e,t){var n=new Blob([e]);(0,L.saveAs)(n,this.props.sszTypeName+"."+t)}},{key:"render",value:function(){var e,t,n=this.props,a=(n.error,n.serialized),s=n.deserialized,i=n.hashTreeRoot,o=n.serializeModeOn,c=n.sszType,l=this.state,d=(l.showError,l.outputType);if(o){var u=B.H[d];e=a&&u?u.dump(a):"",t=i&&u?u.dump(i):""}else{var h=B.b[d];void 0!==s&&h?h.dump(s,c):""}return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(I,{value:e})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)(C.Z,{name:"HashTreeRoot",value:t,textarea:!1}),(0,r.jsx)(C.Z,{name:"Serialized",value:e,textarea:!0})]}),(0,r.jsx)("div",{className:"row"})]})}}],[{key:"getDerivedStateFromProps",value:function(e){return{showError:!!e.error}}}]),n}(a.Component),D=n(25874),V=n(10124),A=n(2323),F=n(69654);function G(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var a=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.Z)(this,n)}}function P(e){var t=(0,A.O)(e);return t[Math.floor(Math.random()*t.length)]}var H="phase0",q=function(e){(0,z.Z)(n,e);var t=G(n);function n(e){var r;(0,U.Z)(this,n),r=t.call(this,e);P(A.z.phase0);return r.state={forkName:H,input:"",sszTypeName:"Uint8",serializeInputType:"yaml",deserializeInputType:"hex",value:""},r}return(0,E.Z)(n,[{key:"componentDidMount",value:function(){var e=(0,M.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetWith(this.getInputType(),this.state.sszTypeName);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setValueAndInput",value:function(e,t){this.setState({value:e,input:t})}},{key:"componentDidUpdate",value:function(e){e.serializeModeOn!==this.props.serializeModeOn&&(this.props.serializeModeOn?(this.setInputType(this.state.serializeInputType),this.props.deserialized&&(this.setState({value:this.props.deserialized}),this.setInput(V.J[this.state.serializeInputType].dump(this.props.deserialized,this.props.sszType)))):(this.setInputType("hex"),this.props.serialized&&this.setInput((0,D.toHexString)(this.props.serialized))))}},{key:"handleError",value:function(e){this.showError(e.message),this.props.setOverlay(!1)}},{key:"showError",value:function(e){this.props.alert.error(e)}},{key:"getRows",value:function(){return Math.min(16,Math.max(4,Math.floor(1.5*(this.state.input.match(/\n/g)||[]).length)))}},{key:"names",value:function(){return(0,A.O)(this.types())}},{key:"basicNames",value:function(){return["Uint8","Uint16","Uint32","Uint64","Uint128","Uint256"]}},{key:"types",value:function(){return A.z[this.state.forkName]}},{key:"getInputType",value:function(){var e=this.props.serializeModeOn,t=this.state,n=t.serializeInputType,r=t.deserializeInputType;return e?n:r}},{key:"parsedInput",value:function(){var e=this.getInputType();return V.J[e].parse(this.state.input,this.types()[this.state.sszTypeName])}},{key:"resetWith",value:function(){var e=(0,M.Z)(S().mark((function e(t,n){var r,a,s,i,o;return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.types(),(a=r[n])||(n=P(r),a=r[n]),s=this.state.forkName,this.props.setOverlay(!0,"Generating random ".concat(n," value...")),e.next=7,(0,F.Z)(n,s);case 7:i=e.sent,o=V.J[t].dump(i,a),this.props.serializeModeOn?this.setState({serializeInputType:t}):this.setState({deserializeInputType:t}),this.setState({sszTypeName:n,input:o,value:i}),this.props.setOverlay(!1);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setFork",value:function(e){var t=this;this.setState({forkName:e.target.value},(0,M.Z)(S().mark((function e(){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.resetWith(t.getInputType(),t.state.sszTypeName);case 2:case"end":return e.stop()}}),e)}))))}},{key:"setInputType",value:function(e){var t=this.state,n=t.sszTypeName,r=t.value,a=this.types()[n],s=V.J[e].dump(r,a);this.props.serializeModeOn?this.setState({serializeInputType:e,sszTypeName:n,input:s}):this.setState({deserializeInputType:e,sszTypeName:n,input:s})}},{key:"setSSZType",value:function(){var e=(0,M.Z)(S().mark((function e(t){return S().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resetWith(this.getInputType(),t.target.value);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setInput",value:function(e){this.setState({input:e})}},{key:"doProcess",value:function(){var e=this.state,t=e.sszTypeName,n=e.forkName;try{this.props.onProcess(n,t,this.parsedInput(),this.types()[t],this.getInputType())}catch(r){this.handleError(r)}}},{key:"processFileContents",value:function(e){try{this.props.serializeModeOn?this.setInput(e):this.setInput((0,D.toHexString)(new Uint8Array(e)))}catch(t){this.handleError(t)}}},{key:"onUploadFile",value:function(e){if(e){var t=new FileReader,n=this.processFileContents.bind(this),r=this.handleError.bind(this);this.props.serializeModeOn?t.readAsText(e):t.readAsArrayBuffer(e),t.onload=function(e){e.target&&n(e.target.result)},t.onerror=function(e){e instanceof Error&&r(e)}}}},{key:"render",value:function(){var e=this,t=this.props.serializeModeOn;this.state.serializeInputType;return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"form",children:(0,r.jsx)("select",{className:"form-select",id:"ssztypeselect","aria-label":"ssz type",value:this.state.sszTypeName,onChange:this.setSSZType.bind(this),children:this.basicNames().map((function(e){return(0,r.jsx)("option",{value:e,children:e},e)}))})})})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("textarea",{className:"form-control",id:"input",rows:this.state.input&&this.getRows(),value:this.state.input,onChange:function(t){return e.setInput(t.target.value)}})}),(0,r.jsx)("div",{className:"row p-3",children:(0,r.jsx)("button",{type:"button",className:"btn btn-secondary",disabled:!(this.state.sszTypeName&&this.state.input),onClick:this.doProcess.bind(this),children:t?"Serialize":"Deserialize"})})]})}}]),n}(a.Component),J=n(39121),W=n.n(J),X=n(99118);function Y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,O.Z)(e);if(t){var a=(0,O.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,T.Z)(this,n)}}a.Component;function K(e){var t=(0,a.useState)("ef"),n=(t[0],t[1]),s=(0,a.useState)("Uint8"),i=(s[0],s[1]),o=(0,a.useState)(1),c=o[0],l=o[1],d=(0,a.useState)("0xef"),u=d[0],h=d[1],f=(0,a.useState)(),p=f[0],v=f[1],x=(0,a.useState)();x[0],x[1];function m(e){l(e);for(var t="",a=0;a<2*e;a++)t+="0123456789abcdef"[Math.floor(16*Math.random())];n(t),i(j[e]);var s="0x".concat(t);s=s.padEnd(66,"0"),h(s),v((0,r.jsxs)("p",{children:[(0,r.jsx)("span",{style:{color:"blue"},children:s.substr(0,2)}),(0,r.jsx)("span",{style:{color:"green"},children:s.substr(2,2*e)}),(0,r.jsx)("span",{style:{color:"red"},children:s.substr(2*e+2,66-2*e)})]}))}(0,a.useEffect)((function(){m(1)}),[]);var j=["Boolean","Bytes32","Uint8","Uint16","Uint32","Uint64","Uint128","Uint256"];return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("p",{className:"text-center",children:"as 32 Byte leaf: "}),(0,r.jsx)("div",{className:"col text-break border",children:p})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"^"})})," ",(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("div",{className:"col border text-break",children:(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{children:" serialized: "}),(0,r.jsx)("span",{style:{color:"blue"},children:u.substr(0,2)}),(0,r.jsx)("span",{style:{color:"green"},children:u.substr(2,2*c)})]})})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"col-3"}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return m(e.target.value)},children:[(0,r.jsx)("option",{value:1,children:"Uint8"}),(0,r.jsx)("option",{value:2,children:"Uint16"}),(0,r.jsx)("option",{value:4,children:"Uint32"}),(0,r.jsx)("option",{value:8,children:"Uint64"}),(0,r.jsx)("option",{value:16,children:"Uint128"}),(0,r.jsx)("option",{value:32,children:"Uint256"})]})}),(0,r.jsx)("div",{className:"col-3"})]})})]})}var Q={Basic:{Unsigned_Integer:{notation:"Uint[N]",Definition:"Unsigned Integer of N Bytes.  Uint8, Uint16, Uint64, Uint128, Uint256",Default_Value:"0",Illegal_Types:""},Boolean:{notation:"boolean",Definition:"True or False, 0 or 1, etc.",Default_Value:"False",Illegal_Types:""}},Composite:{Vector:{notation:"Vector[type, N]",Definition:"Fixed Length sequence of elements of same type.  Homogeneous collection of length N",Default_Value:"[default(type)] * N  -- A vector of default values of length N",Illegal_Types:"Empty Vectors -- Vector[type, 0]"},List:{notation:"List[type, N]",Definition:"Variable Length sequence of elements of same type.  Homogenous collection limited to N values",Default_Value:"Empty List: [ ]",Illegal_Types:""},Container:{notation:"Container[var_a: type, var_b: type, ...]",Definition:"Heterogeneous collection of key-type pairs.",Default_Value:"default(type) for type in container. -- All fields zeroed to default values",Illegal_Types:"Container with no fields"},Union:{notation:"Union[type_0, type_1, ...]",Definition:"Union type containing SSZ types",Default_Value:"default(type_0).  the zeroed default value of type_0",Illegal_Types:"Union with null type at type_0. -- Union[null, ...]"}},Special:{BitVector:{notation:"BitVector[N]",Definition:"Vector of Boolean Values of length N.  Given special notation for efficiency",Default_Value:"False * N",Illegal_Types:"Empty BitVectors: BitVector[0]"},BitList:{notation:"BitList[N]",Definition:"List of Boolean Values with limit N.  Given special notation for efficiency.",Default_Value:"Empty List: [ ]",Illegal_Types:""},Root:{notation:"hash_tree_root(type)",Definition:"The merkleized root of a composite SSZ type",Default_Value:"hash_tree_root(default(type))",Illegal_Types:""}}},$=["primray","secondary","success","danger","warning","info","light"];function ee(e){var t=(0,a.useState)("boolean"),n=(t[0],t[1],(0,a.useState)((0,r.jsx)(l.Z,{NUMBER_OF_VALUES:1}))),s=(n[0],n[1],-1);return(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{children:"Types"}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsxs)("table",{class:"table table-bordered table-hover",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{scope:"col"}),(0,r.jsx)("th",{scope:"col",children:"Type"}),(0,r.jsx)("th",{scope:"col",children:"Notation"}),(0,r.jsx)("th",{scope:"col",children:"Definition"}),(0,r.jsx)("th",{scope:"col",children:"Default Value"}),(0,r.jsx)("th",{scope:"col",children:"Illegal Types"})]})}),(0,r.jsx)("tbody",{children:Object.keys(Q).map((function(e,t){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("th",{scope:"row",children:e}),Object.keys(Q[e]).map((function(t){return s=(s+3)%7,(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("tr",{className:"table-".concat($[s]),children:[(0,r.jsx)("td",{children:" -"}),(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:Q[e][t].notation}),(0,r.jsx)("td",{children:Q[e][t].Definition}),(0,r.jsx)("td",{children:Q[e][t].Default_Value}),(0,r.jsx)("td",{children:Q[e][t].Illegal_Types})]})})}))]})}))})]})}),(0,r.jsxs)("div",{className:"row py-4 border-top",children:[(0,r.jsx)("h4",{children:"Default Values E.g."}),(0,r.jsx)(c.dn,{text:"\nvar a: Type<boolean>  \nvar b: Type<uint8>  \nvar c: Type<uint16>  \nvar d: Type<Vector<byte, 4>>  \n  \na.defaultValue = false  \nb.defaultValue = 0  \nc.defaultValue = 0  \nd.defaultValue = 0000  \n",language:"typescript",showLineNumbers:!1})]})]})}var te=["\nValidator = {\n    pubkey: BLSPubkey;\n    withdrawalCredentials: Bytes32;\n    effectiveBalance: Gwei;\n    slashed: boolean;\n    activationEligibilityEpoch: Epoch;\n    activationEpoch: Epoch;\n    exitEpoch: Epoch;\n    withdrawableEpoch: Epoch;\n}","\nDepositData = {\n    pubkey: BLSPubkey;\n    withdrawalCredentials: Bytes32;\n    amount: Gwei;\n    signature: BLSSignature;\n}","DepositEvent = {\n    depositData: DepositData;\n    blockNumber: Number64;\n    index: Number64;\n}","\nBeaconBlockHeader = {\n    slot: Slot;\n    proposerIndex: ValidatorIndex;\n    parentRoot: Root;\n    stateRoot: Root;\n    bodyRoot: Root;\n}"," \nSignedBeaconBlockHeader = {\n    message: BeaconBlockHeader;\n    signature: BLSSignature;\n}"],ne=["\npubkey: >-\n0x3f59537f9e35724643f594b53b57f5489bf4588cacf1fcbff8925cea64520cb1f6cba307cc4354b14594c3ec5339c71c\nwithdrawalCredentials: '0xc1e8d78277f83362a4addc5810fe3c8513e33eaec8dbc6812b37bc68fcb34439'\neffectiveBalance: '0'\nslashed: true\nactivationEligibilityEpoch: '2'\nactivationEpoch: '0'\nexitEpoch: '3'\nwithdrawableEpoch: '7'\n\n","\npubkey: >-\n  0xd0733c5c339f883fcfd10379f84c55db68cccd75401f6bab017311a093b19558de498db96abe75ac677950bce1e801d6\nwithdrawalCredentials: '0x7ade6735c5f2702202557884d80ba731fa00907751dd54330b46d43f5910a9b6'\namount: '1'\nsignature: >-\n  0x7ba6f3bdb07d1563e01c2b02a485a71cdcd70fda32d7ece78043103f4fd3effbe00b41ee0fb2fcbe7e75944f4065fbd9e83a9437a7036ed15b9c62b513e937bd4a31b1994628d39b8ea36e4449e138a02f953fcb539ccd9a505d9ce0c326b11e\n\n","\ndepositData:\n  pubkey: >-\n    0xe2fef72ee38ab75fcbe76227fa743b575748f2e099170eff4fdf13b19847d9546a9abc18cb2439cc1afa87a7d9785055\n  withdrawalCredentials: '0x32783eec26771af12832caa1c54fa13ce19e1c9cd1dc9af5aa6f214b8952372c'\n  amount: '3'\n  signature: >-\n    0xcc27cf60bc28405a0e3ef15b55d11bf10897d03bd600de16db922efad41d3242d0ea0ccaf8a76af097eaff672e9830b520084cb70d642fcc69346b7202c0a7d32eb95bad048f7ddc867a20a1d714f0ba1ed362baceb5caaba2c078367c6f7f1d\nblockNumber: '6'\nindex: '2'\n\n","\nslot: '1'\nproposerIndex: '3'\nparentRoot: '0xb22657be51c2c572099183f8ad4e1c446abe3c7cea23452a9ec38e869ea35b6b'\nstateRoot: '0x7707a8d72c2aaca980f30444d958241c29e8b442098853828d63e65bfca54a24'\nbodyRoot: '0xac4dbc56be2c4de6eed1d792b2ae91b380817e0ef3406fb6fff8d5724466a7dd'\n\n","\nmessage:\n  slot: '6'\n  proposerIndex: '0'\n  parentRoot: '0xc8520690a03294a6c28e0c4654964195e9a65c2e388ad1e00d74dea94b151ad4'\n  stateRoot: '0x87cee2995c9d709176e6ba06f7e44e067ee021260c2ec9c479f7525fdb5c1430'\n  bodyRoot: '0xcfdd2f980d215fd859835fa0246fc4f4d3005a080e1ed1b077d971ab3cfeb37a'\nsignature: >-\n  0xba4a8591b538ec11764f79faf097757a84c58ed94e24419739f183ec652a6fdeec926602672cc12ca4a74b1126a896b6ec73d2865946cc9cf95891d659391e1b3f71572795115276db1b7f3a72ba6c7ec19c5e963956ab3e24f32a94af84aceb\n\n"];function re(e){var t=(0,a.useState)(2),n=t[0],s=(t[1],te[n]),o=ne[n];return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row pt-4",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsxs)("div",{className:"row border border-3",children:[(0,r.jsxs)("div",{className:"col-6 border",children:[(0,r.jsx)(c.dn,{text:s,language:"yaml",showLineNumbers:!1}),(0,r.jsxs)("h5",{children:["- The DepositEvent type is an alias for a Container with 3 fields.",(0,r.jsx)("br",{}),"- blockNumber and index are both aliases for simple types.",(0,r.jsx)("br",{}),"- They each occupy one RED leaf of the tree.",(0,r.jsx)("br",{}),"- The RED leaf for depositData contains the hash_tree_root of a depositData type, which is an alias for a Container with 4 fields.",(0,r.jsx)("br",{}),"- pubkey, withdrawalCredentials, amount, and signature are aliases for both simple and complex types.",(0,r.jsx)("br",{}),"- Aliases can be endlessly nested in this way to maintain consistency and improve readibility."]})]}),(0,r.jsxs)("div",{className:"col-6 border",children:[(0,r.jsx)(c.dn,{text:o,language:"yaml",showLineNumbers:!1})," "]})]}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"text-center",children:"Deposit Event Merkle Tree"}),(0,r.jsx)("img",{className:"img-fluid",src:"./depositevent.png",alt:"deposit event tree"})]})]})}var ae=n(11854),se=n.n(ae);function ie(e){var t=e.chunk,n=(e.length,e.idx),a=(e.numberOfLeaves,e.numberOfChunks,e.emptyLeaves,e.numberOfChunks),s=256/e.size,i=e.size,o=n+1==a?160:0,c=n+1==a?0:n%2==0?256:180,l="rgb(".concat(n+1==a?0:n%2==1?240:0,",").concat(o,",").concat(c,")");return function(){for(var o=[],c=0;c<t.length;c+=i/4)o.push(t.substring(c,c+i/4));if(n===a-1){var d=e.length,u=e.size,h=o.slice(0,d%(256/u)),f=[],p=o.slice(d%(256/u)+1,o.length-1);p[0];h=h;for(var v=0;v<h.length;v+=u/4)f.push([h.slice(v,v+u/4)]);return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid green 2px"},children:(0,r.jsxs)("text",{className:"".concat(se().hex," text-break p-0"),children:[h.map((function(e){return(0,r.jsx)("span",{style:{color:"green",border:"solid green 1px"},children:e})})),(0,r.jsx)("span",{style:{backgroundColor:"black",color:"gold"},children:o[d%s]}),(0,r.jsx)("span",{style:{border:"solid black"},className:"".concat(se().padding," text-break"),children:p})]})})}return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(l),display:"inline-block"},children:o.map((function(e){return(0,r.jsx)("span",{children:e})}))})}()}function oe(e){var t=e.NUMBER_OF_VALUES,n=c(t),a=c(n+1),s=function(e){var t=[],n=c(e),a=n-e;!function(e){var t=1;1==e||(t+=Math.log(e)/Math.log(2))}(n);return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8 mx-2",children:[i(e,"","leaf"),o(a,"","leaf",!0)]},"leaves")),t}(t);function i(e,n,s){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],c=a;c<a+e;c++)o.push((0,r.jsx)("div",{id:"".concat(n,"node").concat(c),className:"col p-2",children:(0,r.jsx)("div",{className:"row px-4 justify-content-center",children:(0,r.jsx)(d.Z,{idx:c-a,type:"value",empty:i,level:s,chunkIdx:c-a,numChunks:t})})},"".concat(n,"node").concat(c)));return o}function o(e,n,s){for(var i=[],o=a;o<a+e;o++)i.push((0,r.jsx)("div",{id:"".concat(n,"node").concat(o),className:"col p-2",children:(0,r.jsx)("div",{className:"row px-4 justify-content-center",children:(0,r.jsx)(d.Z,{idx:"emtpy",type:"empty",empty:!0,level:"leaf",chunkIdx:o-a+t,numChunks:t})})},"".concat(n,"node").concat(o)));return i}function c(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"row",children:s})})}function ce(e){var t=e.serialized,n=(e.values,e.length),a=e.size,s=Math.floor(n/(256/a))+1,i=s,o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i),c=o-i;function l(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")}var d=t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(d);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(oe,{NUMBER_OF_VALUES:i})}),(0,r.jsx)("div",{className:"row",children:function(){for(var e=t.map((function(e,t){var i=l(e);return(0,r.jsx)(ie,{numberOfLeaves:o,emptyLeaves:c,id:"chunk".concat(t),chunk:i,length:n,size:a,idx:t,numberOfChunks:s},t)})),i=0;i<c;i++)e.push((0,r.jsx)("div",{className:"col text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";t.forEach((function(t){var n=l(t);e+=n}));for(var n=0;n<c;n++)e+="00".padEnd(64,"0");return e}()]})})]})})}for(var le=[],de=0;de<4096;de++){var ue=Math.floor(255*Math.random());le.push(ue)}function he(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(1),o=i[0],c=i[1],l=(0,a.useState)([0]),d=l[0],u=l[1],h=(0,a.useState)(255),v=(h[0],h[1]),x=(0,a.useState)([]),m=x[0],j=x[1],y=(0,a.useState)(1),b=y[0],g=y[1],N=(0,a.useState)(8),w=N[0],_=N[1],k=(0,a.useState)(32),S=k[0],M=k[1],U=(0,a.useState)(p),E=(U[0],U[1],(0,a.useState)(511)),z=(E[0],E[1]),T=(0,a.useState)(le),O=T[0],I=T[1],C=(0,a.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:1})),L=(C[0],C[1]);return(0,a.useEffect)((function(){L((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:b}))}),[b]),(0,a.useEffect)((function(){g(Math.floor(o/S+1)),u(O.slice(0,o))}),[o,n]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=w/8-1,r=0;r<b;r++){for(var a=new Uint8Array(32),s=0;s<32;s++)a=p.serialize(e[r*S+s],a,s*(w/8),w);r+1==b&&(a=p.serialize(1,a,(e.length*(w/8)+n)%(S*(w/8)),w)),t.push(a)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var a=[],i=0;i<16*r;i++){var o=Math.floor(Math.random()*t);a.push(o)}I(a),v(t),_(n),M(r),s(e),c(1),z(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]}),(0,r.jsx)("h5",{className:"text-center",children:"Type"}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return c(e.target.value)},min:1,max:8*S-1,id:"length"})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("h5",{className:"text-center",children:["Length ",(0,r.jsx)("h6",{className:"text-center",children:o})]})]}),(0,r.jsx)("h5",{className:"text-center",style:{color:"black"},children:"Vector<".concat(n,", ").concat(o,">")})]}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(ce,{serialized:m,values:d,length:o,size:w,children:e.children})})]})}function fe(e){var t=e.chunk,n=(e.length,e.idx),a=e.numberOfLeaves,s=(e.numberOfChunks,e.emptyLeaves,e.numberOfChunks),i=256/e.size,o=e.size,c=n+1==s?160:0,l=n+1==s?0:n%2==0?256:180,d="rgb(".concat(n+1==s?0:n%2==1?240:0,",").concat(c,",").concat(l,")");return function(){for(var s=[],c=0;c<t.length;c+=o/4)s.push(t.substring(c,c+o/4));if(n===a-1){var l=e.length,u=e.size,h=s.slice(0,l%(256/u)),f=[],p=s.slice(l%(256/u)+1,s.length-1);p[0];h=h;for(var v=0;v<h.length;v+=u/4)f.push([h.slice(v,v+u/4)]);return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid green 2px"},children:(0,r.jsxs)("text",{className:"".concat(se().hex," text-break p-0"),children:[h.map((function(e){return(0,r.jsx)("span",{style:{color:"green",border:"solid green 1px"},children:e})})),(0,r.jsx)("span",{style:{backgroundColor:"black",color:"gold"},children:s[l%i]}),(0,r.jsx)("span",{style:{border:"solid black"},className:"".concat(se().padding," text-break"),children:p})]})})}return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(d),display:"inline-block"},children:s.map((function(e){return(0,r.jsx)("span",{children:e})}))})}()}function pe(e){var t=(0,a.useState)(0),n=t[0],s=t[1],i=(0,a.useState)(!1),o=(i[0],i[1]),c=(0,a.useState)([]),l=(c[0],c[1]),u=e.chunks,h=e.length,f=e.valuesPerChunk,p=Math.floor(h/f+1),v=N(u),x=N(v+1),m=function(e){var t=[],n=N(e),a=n-e;!function(e){var t=1;1==e||(t+=Math.log(e)/Math.log(2))}(n);return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8",children:[b(e,"chunk","leaf"),g(a,"empty","leaf",!0,e)]},"leaves")),t}(u);function j(e){s(n!==e?e:0)}function y(e){return n===e}function b(e,t,n){for(var a=[],s=function(e){a.push((0,r.jsx)("div",{onClick:function(){return j("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"",type:t,empty:!1,level:n,chunkIdx:e-x,numChunks:p,limit:u,selected:y("".concat(e))})})},"".concat(t,"node").concat(e)))},i=x;i<x+e;i++)s(i);return a}function g(e,t,n){for(var a=arguments.length>4?arguments[4]:void 0,s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return j("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"empty",type:t,empty:!0,level:n,chunkIdx:e+a-x,numChunks:p,limit:u,selected:y("".concat(e+a-x))})})},"".concat(t,"node").concat(e)))},o=x;o<x+e;o++)i(o);return s}function N(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){0!==n?(o(!0),l(4==n?[3]:5==n?[2]:8==n?[5,3]:9==n?[4,3]:10==n?[7,2]:11==n?[6,2]:16==n?[9,5,3]:17==n?[8,5,3]:18==n?[11,4,3]:19==n?[10,4,3]:20==n?[13,7,2]:21==n?[12,7,2]:22==n?[15,6,2]:23==n?[14,6,2]:[])):(o(!1),l([]))}),[n]),m}function ve(e){var t=e.serialized,n=(e.values,e.length),a=e.size,s=e.variable,i=256/a,o=n/(256/a),c=h(o),l=Math.floor(s/(256/a))+1,d=(h(l),c-o);function u(e){return Array.prototype.map.call(e,(function(e){return("0"+(255&e).toString(16)).slice(-2)})).join("")}function h(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}var f=t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(f);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(pe,{limit:n,chunks:o,length:s,valuesPerChunk:i,numberofLeaves:c})}),(0,r.jsx)("div",{className:"row",children:function(){for(var e=t.map((function(e,t){var n=u(e);return(0,r.jsx)(fe,{numberOfLeaves:l,emptyLeaves:d,id:"chunk".concat(t),chunk:n,length:s,size:a,idx:t,numberOfChunks:c},t)})),n=0;n<d;n++)e.push((0,r.jsx)("div",{className:"col text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";t.forEach((function(t){var n=u(t);e+=n}));for(var n=0;n<d;n++)e+="00".padEnd(64,"0");return e}()]})})]})})}function xe(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(16),o=i[0],c=i[1],l=(0,a.useState)(32),d=l[0],u=l[1],h=(0,a.useState)([]),f=h[0],v=h[1],x=(0,a.useState)(255),m=(x[0],x[1]),j=(0,a.useState)(0),y=(j[0],j[1]),b=(0,a.useState)(32),g=b[0],N=b[1],w=(0,a.useState)(1),_=w[0],k=w[1],S=(0,a.useState)(1),M=(S[0],S[1],(0,a.useState)(8)),U=M[0],E=M[1],z=(0,a.useState)([]),T=z[0],O=z[1],I=(0,a.useState)([]),C=I[0],L=I[1];function B(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var a=[],i=0;i<512;i++){var o=Math.floor(Math.random()*t);a.push(o)}E(n),m(t),N(r),L(a),s(e),c(r-1),u(_*r),k(Math.ceil(d/g))}return(0,a.useEffect)((function(){B(n);var e=C.slice(0,o);v(e)}),[]),(0,a.useEffect)((function(){var e=Math.ceil(d/g),t=C.slice(0,o);v(t);var n=Math.floor((o+g)/g);y(e-n),k(e)}),[o,d]),(0,a.useEffect)((function(){var e=Math.floor((o+g)/g);y(_-e)}),[_]),(0,a.useEffect)((function(){d<o&&c(d-1);var e=Math.ceil(d/g),t=Math.floor((o+g)/g);y(_-t),k(e)}),[d]),(0,a.useEffect)((function(){k(Math.ceil(d/g));var e=Math.floor((o+g)/g);y(_-e)}),[o,g,d]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=U/8-1,r=0;r<_;r++){var a=new Uint8Array(32);a.fill(0);for(var s=0;s<g;s++)a=p.serialize(e[r*g+s],a,s*(U/8),U);r==Math.floor(o/g)&&(a=p.serialize(1,a,(o*U/8+n)%32,U)),t.push(a)}O(t)}(f)}),[f]),(0,a.useEffect)((function(){k(Math.ceil(d/g))}),[o,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col-3 px-3",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return B(e.target.value)},children:[(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return function(e){c(e)}(e.target.value)},min:0,max:d-1,id:"length"}),(0,r.jsxs)("p",{className:"text-center",children:["Variable Length: ",o]})]}),(0,r.jsxs)("div",{className:"col-3 px-3",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{value:d,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e<8*g?e+=g:alert("Tree depth capped for demonstration purposes"),u(e)},children:"Limit Up"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e>g?e-=g:alert("Limit cannot be zero"),u(e)},children:"Limit Down"})})]})]}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:function(){var e=d;return"List <elementType: ".concat(n,", limit: ").concat(e,">")}()})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(ve,{serialized:T,values:f,length:d,variable:o,size:U,children:e.children})})]})}function me(e){var t=(0,a.useState)(0),n=t[0],s=t[1],i=(0,a.useState)(!1),o=(i[0],i[1]),c=(0,a.useState)([]),l=(c[0],c[1]),u=e.chunks,h=e.length,f=Math.floor(h/1+1),p=g(u),v=g(p+1),x=function(e){var t=[],n=g(e)-e;return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-8",children:[y(e,"chunk","leaf"),b(n,"empty","leaf",!0,e)]},"leaves")),t}(u);function m(e){s(n!==e?e:0)}function j(e){return n===e}function y(e,t,n){for(var a=[],s=function(e){a.push((0,r.jsx)("div",{onClick:function(){return m("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"",type:"root",empty:!1,level:n,chunkIdx:e,numChunks:f,limit:h,selected:j("".concat(e))})})},"".concat(t,"node").concat(e)))},i=0;i<e;i++)s(i);return a}function b(e,t,n){for(var a=arguments.length>4?arguments[4]:void 0,s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return m("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-2",children:(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)(d.Z,{idx:"empty",type:"empty",empty:!0,level:n,chunkIdx:0,numChunks:f,limit:h,selected:j("".concat(e+a-v))})})},"".concat(t,"node").concat(e)))},o=0;o<e;o++)i(o);return s}function g(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){0!==n?(o(!0),l(4==n?[3]:5==n?[2]:8==n?[5,3]:9==n?[4,3]:10==n?[7,2]:11==n?[6,2]:16==n?[9,5,3]:17==n?[8,5,3]:18==n?[11,4,3]:19==n?[10,4,3]:20==n?[13,7,2]:21==n?[12,7,2]:22==n?[15,6,2]:23==n?[14,6,2]:[])):(o(!1),l([]))}),[n]),x}function je(e){var t=e.chunk,n=(e.length,e.idx),a=(e.numberOfLeaves,e.numberOfChunks,e.emptyLeaves,e.numberOfChunks,e.size,e.size,n%2==0?256:180),s="rgb(".concat(n%2==1?240:0,",").concat(0,",").concat(a,")");return(0,r.jsx)("div",{className:"col text-break",style:{border:"solid ".concat(s),display:"inline-block"},children:(0,r.jsx)("span",{children:t})})}function ye(e){var t=e.values,n=e.length,a=n/1,s=t.slice(0,n),i=l(a),o=Math.floor(n/1)+1,c=(l(o),i-a);function l(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(me,{limit:n,chunks:a,length:n,valuesPerChunk:1,numberofLeaves:i})}),n<9&&(0,r.jsx)("div",{className:"row",children:function(){for(var e=s.map((function(e,t){return(0,r.jsx)(je,{numberOfLeaves:o,emptyLeaves:c,s:!0,id:"chunk".concat(t),chunk:e,length:n,size:256,idx:t,numberOfChunks:i},t)})),t=0;t<c;t++)e.push((0,r.jsx)("div",{className:"col overflow-hidden text-break",style:{border:"solid gray"},children:"0x".padEnd(66,"0")}));return e}()}),(0,r.jsx)("div",{className:"row text-break",children:(0,r.jsxs)("p",{children:["0x",function(){var e="";s.forEach((function(t){e+=t}));for(var t=0;t<c;t++)e+="00".padEnd(64,"0");return e}()]})})]})})}function be(e){for(var t=(0,a.useState)(5),n=t[0],s=t[1],i=[],o=0;o<16;o++){for(var c="",l=0;l<64;l++){c+="abcdef0123456789"[Math.floor(16*Math.random())]}i.push(c)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-evenly",children:[(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n>1&&s(n-1)},children:"Less"})}),(0,r.jsx)("div",{className:"col-3",children:(0,r.jsxs)("h4",{children:["Container: ",n," fields"]})}),(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n<16&&s(n+1)},children:"More"})}),(0,r.jsx)("div",{className:"col-5"})]}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)(ye,{length:n,values:i,size:256,children:e.children})})]})}var ge="\nAll simple types (boolean / uintN) undergo simple byte conversion.  \nA merkle tree leaf with one simple value is padded with zero bits to create a 32 Byte value.  \n  \nIn the interactive diagram, the green bits represent the stored value, and the red zeros are the padding.\nChange the byte size to demonstrate how each UintN size serializes to a 32 Byte root.\n\n",Ne="\n- Vector types are fixed-length lists.  \n\n- Elements are packed tightly into 32 Byte leaves, with an additional '1' bit added after the last value.  \n\n- This way, the length of the vector becomes part of the object itself.  \n\n- If the total number of values PLUS THE LENGTH BIT does not evenly divide into 32 byte chunks, the last leaf is padded with zeros, after the length bit.  \n\n- If the total number of chunks does not equal a power of two, additional empty leaves fill the merkle tree.\n\n- Interactive: Change the type and length parameters to visualize how vectors are \"chunked\" into 32 Byte leaves.\n\n\n",we='\n- List are like vectors, but the FIXED_LENGTH is more like a LIMIT, and the actual length is VARIABLE.  \n\n- The LIMIT is a number of full chunks.\n  \n- The values and "1" bit representing the VARIABLE_LENGTH serialize like a vector.\n  \n- The final hash_tree_root of a List is the hash_tree_root of a merkle tree whose leaves are the hash_tree_root of the values, and a leaf storing a Uint256 of the fixed-length LIMIT.\n  \n- The fixed-length LIMIT is stored as an additional leaf.\n  \n- Interactive: Change the TYPE, LIMIT, and LENGTH parameters to visualize how lists are "chunked" into 32 Byte leaves.\n',_e="\n  Container types will have a Merkle Tree leaf for each field, some of which may be the 'Root' of a nested Merkle Tree.  \n  If the number of fields does not equal a power-of-two, the merkle tree is padded with zero nodes to achieve a perfect binary tree.\n  Below, change the number of fields to visualize how container fields fill the leaves of a merkle-tree.\n  \n\n  \n";function ke(e){var t=(0,a.useState)("boolean"),n=t[0],s=(t[1],(0,a.useState)((0,r.jsx)(l.Z,{NUMBER_OF_VALUES:1}))),c=(s[0],s[1]),d=(0,a.useState)(ge),u=(d[0],d[1]);(0,a.useEffect)((function(){c("boolean"==n?(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(o,{})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["var","<boolean>"," = TRUE"]})})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(K,{})})]}):"vector"==n?(0,r.jsx)(_,{NUMBER_OF_VALUES:3}):"list"==n?(0,r.jsx)(y,{}):"container"==n?(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:5}):(0,r.jsx)("div",{children:"Hello"}))}),[n]),(0,a.useEffect)((function(){u("boolean"==n?ge:"vector"==n?Ne:"list"==n?we:"container"==n?_e:ge)}),[n]);return(0,r.jsxs)("div",{className:"container bg-light",children:[(0,r.jsxs)("div",{className:"row border-bottom",children:[(0,r.jsx)("h3",{className:"text-center",children:"Serialization"}),(0,r.jsx)("h6",{className:"text-center fst-italic",children:"the process of translating a data structure or object into a string of bytes"})]}),(0,r.jsxs)("div",{className:"row pt-3 bg-light",children:[(0,r.jsxs)("div",{className:"col-5",children:[(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)("h4",{className:"text-center",children:"Simple Types"})}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)("h5",{className:"text-center",children:(0,r.jsx)(i(),{children:ge})})})]}),(0,r.jsxs)("div",{className:"col-7",children:[" ",(0,r.jsx)("div",{className:"row border-bottom py-4",children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(o,{})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("p",{className:"text-center",children:"Boolean"})," "]})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(K,{})})]})})]})]}),(0,r.jsxs)("div",{className:"row bg-light",children:[(0,r.jsx)("div",{className:"col"}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h4",{className:"",children:"COMPOSITE TYPES"})}),(0,r.jsx)("div",{className:"border-bottom row py-3",children:(0,r.jsx)("h5",{className:"",children:'\nSimple Types combine into Vectors, Lists, and Containers.  These types are serialized by serializing the simple objects inside, then packing\nthose serialized bits into 32 Byte "chunks".\n'})})]})]}),(0,r.jsxs)("div",{className:"row pt-3",children:[(0,r.jsxs)("div",{className:"col border-bottom",children:[(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h4",{className:"text-center",children:"VECTORS"})}),(0,r.jsx)("div",{className:"row py-3",children:(0,r.jsx)("h5",{className:"",children:(0,r.jsx)(i(),{children:Ne})})})]}),(0,r.jsx)("div",{className:"col",children:(0,r.jsx)("div",{className:"row py-5 border-bottom",children:(0,r.jsx)(he,{})})})]}),(0,r.jsxs)("div",{className:"row py-3",children:[(0,r.jsxs)("div",{className:"col py-4 ",children:[" ",(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(xe,{})})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h4",{className:"text-center",children:"LISTS"})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h5",{children:(0,r.jsx)(i(),{children:we})})})]})]}),(0,r.jsx)("div",{className:"row py-4 text-center"}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h4",{className:"text-center",children:"CONTAINERS"})}),(0,r.jsx)("div",{className:"row py-4 text-center",children:(0,r.jsx)("h5",{children:_e})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(be,{})})]})}var Se=n(36331);function Me(e){var t=e.NUMBER_OF_VALUES,n=(s(t),function(e){var t=[],n=s(e),i=n-e,o=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:"R",level:"root"})})},"hashtreeroot"));for(var c=1;c<o-1;c++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(c),className:"row row-cols-auto justify-content-around",children:a(Math.pow(2,c),"H","intermediate")},"treelevel:".concat(c)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:a(e+i,"","branch")},"hash"));return t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:a(e+i,"","leaf")},"leaves")),t}(t));function a(e,n,a){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=0;o<e;o++){var c="intermediate"==n?"":o+1;i.push((0,r.jsx)("div",{id:"".concat(n,"node").concat(o),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:c,type:n,empty:s,level:a,chunkIdx:o,numChunks:t})},"".concat(n,"node").concat(o)))}return i}function s(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-7",children:n}),(0,r.jsxs)("div",{className:"col-5",children:[(0,r.jsx)("div",{className:"row pb-1",children:(0,r.jsx)("h5",{children:"hash_tree_root"})}),(0,r.jsx)("div",{className:"row py-1",children:(0,r.jsx)("h5",{children:"intermediate hash nodes"})}),(0,r.jsx)("div",{className:"row py-1",children:(0,r.jsx)("h5",{children:"hash leaf nodes"})}),(0,r.jsx)("div",{className:"row pt-1",children:(0,r.jsx)("h5",{children:"32 Byte serialized objects"})})]})]})}n(37641);function Ue(e){var t=(0,a.useState)(0),n=t[0],s=t[1],i=(0,a.useState)(!1),o=i[0],c=i[1],l=(0,a.useState)([]),d=l[0],u=l[1],h=e.NUMBER_OF_VALUES;function f(e){return n===e}function p(e){return d.includes(e)}var v=w(h),x=w(v+1),m=function(e){var t=[],n=w(e),a=n-e,s=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:"R",level:"root",active:o})})},"hashtreeroot"));for(var i=1;i<s-1;i++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(i),className:"row row-cols-auto justify-content-around",children:N(Math.pow(2,i),"T",i)},"treelevel:".concat(i)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:g(e+a,"","branch")},"hash"));return t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[y(e,"","leaf"),b(a,"","leaf",!0)]},"leaves")),t}(h);function j(e){s(n!==e?e:0)}function y(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return j("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:e-h,type:t,empty:a,level:n,chunkIdx:e-x,numChunks:h,selected:f("".concat(e))})},"".concat(t,"node").concat(e)))},o=x;o<x+e;o++)i(o);return s}function b(e,t,n){for(var a=[],s=function(e){a.push((0,r.jsx)("div",{onClick:function(){return j("".concat(e+h))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:e-x+h,type:t,empty:!0,level:"leaf",chunkIdx:e-x+h,numChunks:h,selected:f("".concat(e+h))})},"".concat(t,"node").concat(e)))},i=x;i<x+e;i++)s(i);return a}function g(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+v,type:t,empty:a,level:"branch",chunkIdx:i,numChunks:h,active:p(i+e)})},"".concat(t,"node").concat(i)));return s}function N(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+Math.pow(2,n),type:"",empty:a,level:"intermediate",chunkIdx:i,numChunks:h,active:p(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return s}function w(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){0!==n?(c(!0),u(4==n?[3]:5==n?[2]:8==n?[5,3]:9==n?[4,3]:10==n?[7,2]:11==n?[6,2]:16==n?[9,5,3]:17==n?[8,5,3]:18==n?[11,4,3]:19==n?[10,4,3]:20==n?[13,7,2]:21==n?[12,7,2]:22==n?[15,6,2]:23==n?[14,6,2]:[])):(c(!1),u([]))}),[n]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"Select leaf (BOTTOM ROW) to show merkle proof"})}),(0,r.jsx)("div",{className:"row",children:m}),0!=n&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaf: ",0!=n&&n-8]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data: ",d.toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["proof: H(H(",d[1],", H(",d[0],",",n-8,")),",d[2],") == R"]})})]})]})}function Ee(e,t){for(var n=t+Math.floor(e.length/2),r=[e[t]];n>1;)r.push(e[1^t]),n=Math.floor(n/2);return r}var ze="0123456789abcdef";Ee(ze,0);!function(e,t){var n=[],r={};t.forEach((function(t){var a=Ee(e,t),s=Math.floor(e.length/2)+t;r[s.toString()]=!0;for(var i=1;i<a.length;i++)r[(1^s).toString()]=!0,s=Math.floor(s/2);n.push(a)}));for(var a=!1;!a;){a=!0;var s=Object.keys(r).map((function(e){return Math.floor(e/2)})).sort().reverse();for(var i in s)Object.keys(r).includes((2*i).toString())&Object.keys(r).includes((2*i+1).toString())&!Object.keys(r).includes(i.toString())&&(r[i.toString()]=!0,a=!1)}var o={};t.map((function(e,t){return{i:e,b:n[t]}})).forEach((function(n){var a=Math.floor(e.length/2)+n.i;o[a]=!0;for(var s=1;s<n.b.length;s++)Object.keys(r).includes((2*(1^a)).toString())&Object.keys(r).includes((2*(1^a)+1).toString())|t.includes((1^a)-Math.floor(e.lenth/2))|Object.keys(o).includes((1^a).toString())&&(n.b[s]="0x"),o[1^a]=!0,a=Math.floor(a/2)}))}(ze,[15,0]);function Te(e){for(var t=[],n=23;n>=16;n--){var r=1^n,a=e[n.toString()],s=e[r.toString()];a.active&!s.active&&t.push(r-8),a.active&s.active&&(t.push(a-8),t.push(r-8))}t.forEach((function(e){return t.push(1^Math.floor(e/2),1^Math.floor((1^Math.floor(e/2))/2))}));for(var i=function(e){t.includes(e)&t.includes(1^e)&&(t=(t=t.filter((function(t){return t!=e}))).filter((function(t){return t!=(1^e)})))},o=0;o<15;o++)i(o);return t}function Oe(e){var t=(0,a.useState)(0),n=t[0],s=(t[1],(0,a.useState)(!1)),i=s[0],o=s[1],c=(0,a.useState)([]),l=c[0],d=c[1],u=(0,a.useState)({active:[16]}),h=u[0],f=u[1],p=(0,a.useState)({active:[9,13,15,5]}),v=p[0],x=p[1],m=(0,a.useState)({16:{active:!0},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!0},23:{active:!1}}),j=m[0],y=m[1],b=e.NUMBER_OF_VALUES;function g(e){return j[e].active}var N=U(b),w=(U(N+1),function(e){var t=[],n=U(e),a=n-e,s=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:"R",level:"root",active:i})})},"hashtreeroot"));for(var o=1;o<s-1;o++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(o),className:"row row-cols-auto justify-content-around",children:M(Math.pow(2,o),"T",o)},"treelevel:".concat(o)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:S(e+a,"","branch")},"hash"));return t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:k(e,"","leaf")},"leaves")),t}(b));function _(e){var t=h.active,n=j;g(e)?t=t.filter((function(t){return t!=e})):t.push(e),f({active:t}),g(e)?n[e]={active:!1}:n[e]={active:!0},y(n)}function k(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return _(e+8)},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:e,type:t,empty:a,level:n,chunkIdx:e,numChunks:8,selected:g(e+8)})},"".concat(t,"node").concat(e)))},o=8;o<16;o++)i(o);return s}function S(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+N,type:t,empty:a,level:"branch",chunkIdx:i,numChunks:b,active:v.active.includes(i+e)})},"".concat(t,"node").concat(i)));return s}function M(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+Math.pow(2,n),type:"",empty:a,level:"intermediate",chunkIdx:i,numChunks:b,active:v.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return s}function U(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){var e=Te(j);x({active:e})})),(0,a.useEffect)((function(){if(0!==n){var e=Array.from(h.active),t=e.indexOf(n);t<0?e.push(n):e.splice(t,1),f({active:e}),o(!0)}else o(!1),d(0)}),[n]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("p",{className:"text-center",children:"select combinations of (RED) leaves to show Merkle Proof"}),(0,r.jsx)("div",{className:"row",children:w}),(0,r.jsx)("div",{className:"row"}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaves: ",h.active.toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data: ",v.active.reverse().toString()]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("h4",{className:"text-center",children:["proof: H(H(",l[1],", H(",l[0],",",n-8,")),",l[2],") == R"]}),(0,r.jsx)("br",{})]})]})]})}function Ie(e){var t=(0,a.useState)(0),n=t[0],s=(t[1],(0,a.useState)(!0)),i=s[0],o=s[1],c=(0,a.useState)([]),l=(c[0],c[1]),d=(0,a.useState)({active:[]}),u=d[0],h=d[1],f=(0,a.useState)({active:[]}),p=f[0],v=f[1],x=(0,a.useState)({16:{active:!1},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!1},21:{active:!1},22:{active:!1},23:{active:!1}}),m=x[0],j=x[1],y=(0,a.useState)([]),b=y[0],g=y[1];(0,a.useEffect)((function(){var t=[],n=e.leaves.active.filter((function(e){return 20!=e})).map((function(e){return e-8})),r=u.active.map((function(e){return e+6})),a=e.proof.active.map((function(e){return e})),s=p.active.map((function(e){return e+14}));n.forEach((function(e){return t.push(e)})),r.forEach((function(e){return t.push(e)})),a.forEach((function(e){return t.push(e)})),s.forEach((function(e){return t.push(e)})),g(t.sort((function(e,t){return e-t})))}));var N=e.NUMBER_OF_VALUES;function w(e){return m[e].active}(0,a.useEffect)((function(){S(23)}),[]),(0,a.useEffect)((function(){i?e.active(!0):e.active(!1)}),[i]);var _=z(N),k=(z(_+1),function(t){var n=[],a=z(t),s=a-t,o=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(a);n.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:e.origin,level:"root",active:i})})},"hashtreeroot"));for(var c=1;c<o-1;c++)n.push((0,r.jsx)("div",{id:"treelevel:".concat(c),className:"row row-cols-auto justify-content-around",children:E(Math.pow(2,c),"T",c)},"treelevel:".concat(c)));t>1&&n.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:U(t+s,"","branch")},"hash"));return n.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:M(t,"","leaf")},"leaves")),n}(N));function S(e){var t=u.active,n=m;w(e)?t=t.filter((function(t){return t!=e})):t.push(e),h({active:t}),w(e)?n[e]={active:!1}:n[e]={active:!0},j(n)}function M(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=function(e){s.push((0,r.jsx)("div",{onClick:function(){return S(e+8)},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:e+14,type:t,empty:a,level:n,chunkIdx:e,numChunks:8,selected:w(e+8)})},"".concat(t,"node").concat(e)))},o=8;o<16;o++)i(o);return s}function U(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+_+14,type:t,empty:a,level:"branch",chunkIdx:i,numChunks:N,active:p.active.includes(i+e)})},"".concat(t,"node").concat(i)));return s}function E(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+Math.pow(2,n)+14,type:"",empty:a,level:"intermediate",chunkIdx:i,numChunks:N,active:p.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return s}function z(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){var e=Te(m);e=e.filter((function(e){return!isNaN(e)&1!=e}));var t=[];e.forEach((function(e){return!t.includes(e)&&t.push(e)})),v({active:t}),u.active.length>0?o(!0):o(!1)}),[u]),(0,a.useEffect)((function(){if(0!==n){var e=Array.from(u.active),t=e.indexOf(n);t<0?e.push(n):e.splice(t,1),h({active:e}),o(!0)}else o(!1),l(0)}),[n]),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:k}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("p",{className:"text-center",children:"click on leaf to show merkle proof"})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["leaves:"," ",e.leaves.active.filter((function(e){return 20!=e})).map((function(e){return e-8})).toString(),","," ",u.active.map((function(e){return e+6})).toString()]})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("h4",{className:"text-center",children:["witness data:"," ",e.proof.active.reverse().map((function(e){return e})).toString(),",",p.active.map((function(e){return e+14})).reverse().toString()]})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("h4",{className:"text-center",children:["proof: ",b.toString()," "]}),(0,r.jsx)("br",{})]})]})]})}function Ce(e){var t=(0,a.useState)(!1),n=t[0],s=(t[1],(0,a.useState)({active:[16,20]})),i=s[0],o=s[1],c=(0,a.useState)({active:[5,7,9,13]}),l=c[0],d=c[1],u=(0,a.useState)({16:{active:!0},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!1},23:{active:!1}}),h=u[0],f=u[1],p=(0,a.useState)(!0),v=p[0],x=p[1];(0,a.useEffect)((function(){var e=i.active,t=h;v?e.push(20):e=e.filter((function(e){return 20!=e})),o({active:e}),t[20]=v?{active:!0}:{active:!1},f(t)}),[v]);var m=e.NUMBER_OF_VALUES;function j(e){return h[e].active}var y=k(m),b=(k(y+1),function(e){var t=[],a=k(e),s=a-e,o=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(a);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:"R",level:"root",active:n})})},"hashtreeroot"));for(var c=1;c<o-1;c++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(c),className:"row row-cols-auto justify-content-around",children:_(Math.pow(2,c),"T",c)},"treelevel:".concat(c)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:w(e+s,"","branch")},"hash"));return t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:N(e,"","leaf")},"leaves")),t.push((0,r.jsxs)("div",{id:"subtree",className:"row justify-content-around",children:[(0,r.jsx)("div",{className:"col-2"}),(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)(Ie,{NUMBER_OF_VALUES:8,origin:12,active:x,leaves:i,proof:l})})]},"subtree")),t}(m));function g(e){var t=i.active,n=h;j(e)?t=t.filter((function(t){return t!=e})):t.push(e),o({active:t}),j(e)?n[e]={active:!1}:n[e]={active:!0},f(n)}function N(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=function(e){12!=e?s.push((0,r.jsx)("div",{onClick:function(){return g(e+8)},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:e,type:t,empty:a,level:n,chunkIdx:e,numChunks:8,selected:j(e+8)})},"".concat(t,"node").concat(e))):s.push((0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)("div",{className:"flexbox border-4 border",style:{height:"100%",paddingTop:"100%"}})}))},o=8;o<16;o++)i(o);return s}function w(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+y,type:t,empty:a,level:"branch",chunkIdx:i,numChunks:m,active:l.active.includes(i+e)})},"".concat(t,"node").concat(i)));return s}function _(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=0;i<e;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+Math.pow(2,n),type:"",empty:a,level:"intermediate",chunkIdx:i,numChunks:m,active:l.active.includes(i+Math.pow(2,n))})},"".concat(t,"node").concat(i)));return s}function k(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,a.useEffect)((function(){var e=Te(h);e=e.filter((function(e){return!isNaN(e)&1!=e})),d({active:e})})),(0,a.useEffect)((function(){var e=i.active;e=e.filter((function(e){return!isNaN(e)&1!=e})),d({active:e})}),[i]),(0,r.jsxs)("div",{className:"container pt-4",children:[(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("h3",{className:"text-center",children:"Merkle Tree Leaves can be a Root of a nested Subtree."}),(0,r.jsx)("p",{className:"text-center",children:"select combinations of (RED) leaves to show Proof structure"})]}),(0,r.jsx)("div",{className:"row",children:b}),(0,r.jsx)("div",{className:"row"})]})}function Le(e){var t=e.serialized,n=(e.values,e.length),a=e.size,s=Math.floor(n/(256/a))+1,i=s;!function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i);var o=t.map((function(e){var t=(0,m.createHash)("sha256");return t.update(e),t.digest()}));(0,x.B)(o);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:i})})})})}console.log(Te({16:{active:!1},17:{active:!1},18:{active:!1},19:{active:!1},20:{active:!0},21:{active:!1},22:{active:!0},23:{active:!1}}));for(var Be=[],Re=0;Re<4096;Re++){var Ze=Math.floor(255*Math.random());Be.push(Ze)}function De(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(1),o=i[0],c=i[1],l=(0,a.useState)([0]),d=l[0],u=l[1],h=(0,a.useState)(255),v=(h[0],h[1]),x=(0,a.useState)([]),m=x[0],j=x[1],y=(0,a.useState)(1),b=y[0],g=y[1],N=(0,a.useState)(8),w=N[0],_=N[1],k=(0,a.useState)(32),S=k[0],M=k[1],U=(0,a.useState)(p),E=(U[0],U[1],(0,a.useState)(511)),z=(E[0],E[1]),T=(0,a.useState)(Be),O=T[0],I=T[1],C=(0,a.useState)((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:1})),L=(C[0],C[1]);return(0,a.useEffect)((function(){L((0,r.jsx)(f.ZP,{object:"Vector[".concat(n,", ").concat(o,"]"),NUMBER_OF_VALUES:b}))}),[b]),(0,a.useEffect)((function(){g(Math.floor(o/S+1)),u(O.slice(0,o))}),[o,n]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=w/8-1,r=0;r<b;r++){for(var a=new Uint8Array(32),s=0;s<32;s++)a=p.serialize(e[r*S+s],a,s*(w/8),w);r+1==b&&(a=p.serialize(1,a,(e.length*(w/8)+n)%(S*(w/8)),w)),t.push(a)}j(t)}(d)}),[d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Le,{serialized:m,values:d,length:o,size:w,children:e.children})}),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col",children:[(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return function(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var a=[],i=0;i<16*r;i++){var o=Math.floor(Math.random()*t);a.push(o)}I(a),v(t),_(n),M(r),s(e),c(1),z(16*r-1)}(e.target.value)},children:[(0,r.jsx)("option",{selected:!0,children:n}),(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]}),(0,r.jsx)("h5",{className:"text-center",children:"Type"}),(0,r.jsx)("br",{})]}),(0,r.jsxs)("div",{className:"col",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return c(e.target.value)},min:1,max:8*S-1,id:"length"})," ",(0,r.jsx)("br",{}),(0,r.jsxs)("h5",{className:"text-center",children:["Length ",(0,r.jsx)("h6",{className:"text-center",children:o})]})]}),(0,r.jsx)("h5",{className:"text-center",style:{color:"black"},children:"Vector<".concat(n,", ").concat(o,">")})]})]})}function Ve(e){e.serialized,e.values;var t=e.length,n=e.size,a=e.variable,s=256/n,i=t/(256/n),o=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(i);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(v.Z,{limit:t,chunks:i,length:a,valuesPerChunk:s,numberofLeaves:o})})})})}function Ae(e){var t=(0,a.useState)("Uint8"),n=t[0],s=t[1],i=(0,a.useState)(16),o=i[0],c=i[1],l=(0,a.useState)(32),d=l[0],u=l[1],h=(0,a.useState)([]),f=h[0],v=h[1],x=(0,a.useState)(255),m=(x[0],x[1]),j=(0,a.useState)(0),y=(j[0],j[1]),b=(0,a.useState)(32),g=b[0],N=b[1],w=(0,a.useState)(1),_=w[0],k=w[1],S=(0,a.useState)(1),M=(S[0],S[1],(0,a.useState)(8)),U=M[0],E=M[1],z=(0,a.useState)([]),T=z[0],O=z[1],I=(0,a.useState)([]),C=I[0],L=I[1];function B(e){var t=0,n=0,r=0;"Uint8"===e?(t=255,n=8,r=32):"Uint16"===e?(t=Math.pow(2,16)-1,n=16,r=16):"Uint32"===e?(t=Math.pow(2,32)-1,n=32,r=8):"Uint64"===e?(t=Math.pow(2,64)-1,n=64,r=4):"Uint128"===e?(t=Math.pow(2,128)-1,n=128,r=2):"Uint256"===e&&(t=Math.pow(2,256)-1,n=256,r=1);for(var a=[],i=0;i<512;i++){var o=Math.floor(Math.random()*t);a.push(o)}E(n),m(t),N(r),L(a),s(e),c(r-1),u(_*r),k(Math.ceil(d/g))}return(0,a.useEffect)((function(){B(n);var e=C.slice(0,o);v(e)}),[]),(0,a.useEffect)((function(){var e=Math.ceil(d/g),t=C.slice(0,o);v(t);var n=Math.floor((o+g)/g);y(e-n),k(e)}),[o,d]),(0,a.useEffect)((function(){var e=Math.floor((o+g)/g);y(_-e)}),[_]),(0,a.useEffect)((function(){d<o&&c(d-1);var e=Math.ceil(d/g),t=Math.floor((o+g)/g);y(_-t),k(e)}),[d]),(0,a.useEffect)((function(){k(Math.ceil(d/g));var e=Math.floor((o+g)/g);y(_-e)}),[o,g,d]),(0,a.useEffect)((function(){!function(e){for(var t=[],n=U/8-1,r=0;r<_;r++){var a=new Uint8Array(32);a.fill(0);for(var s=0;s<g;s++)a=p.serialize(e[r*g+s],a,s*(U/8),U);r==Math.floor(o/g)&&(a=p.serialize(1,a,(o*U/8+n)%32,U)),t.push(a)}O(t)}(f)}),[f]),(0,a.useEffect)((function(){k(Math.ceil(d/g))}),[o,d]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ve,{serialized:T,values:f,length:d,variable:o,size:U,children:e.children})}),(0,r.jsxs)("div",{className:"row justify-content-center",children:[(0,r.jsx)("div",{className:"col-3 px-3",children:(0,r.jsxs)("select",{className:"form-select","aria-label":"Default select example",onChange:function(e){return B(e.target.value)},children:[(0,r.jsx)("option",{value:"Uint8",children:"Uint8"}),(0,r.jsx)("option",{value:"Uint16",children:"Uint16"}),(0,r.jsx)("option",{value:"Uint32",children:"Uint32"}),(0,r.jsx)("option",{value:"Uint64",children:"Uint64"}),(0,r.jsx)("option",{value:"Uint128",children:"Uint128"}),(0,r.jsx)("option",{value:"Uint256",children:"Uint256"})]})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("input",{style:{border:"solid black",backgroundColor:"darkgray"},type:"range",value:o,className:"form-range",onChange:function(e){return function(e){c(e)}(e.target.value)},min:0,max:d-1,id:"length"}),(0,r.jsxs)("p",{className:"text-center",children:["Variable Length: ",o]})]}),(0,r.jsxs)("div",{className:"col-3 px-3",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{value:d,className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e<8*g?e+=g:alert("Tree depth capped for demonstration purposes"),u(e)},children:"Limit Up"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){var e=d;e>g?e-=g:alert("Limit cannot be zero"),u(e)},children:"Limit Down"})})]})]}),(0,r.jsx)("div",{className:"row"}),(0,r.jsx)("div",{className:"row justify-content-center",children:(0,r.jsx)("h4",{className:"text-center",children:function(){var e=d;return"List <elementType: ".concat(n,", limit: ").concat(e,">")}()})})]})}n(5072);function Fe(e){e.values;var t=e.length/1;!function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)(h.Z,{NUMBER_OF_VALUES:t})})})}function Ge(e){for(var t=(0,a.useState)(5),n=t[0],s=t[1],i=[],o=0;o<16;o++){for(var c="",l=0;l<64;l++){c+="abcdef0123456789"[Math.floor(16*Math.random())]}i.push(c)}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"row justify-content-evenly",children:[(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n>1&&s(n-1)},children:"Less"})}),(0,r.jsx)("div",{className:"col-3",children:(0,r.jsxs)("h4",{children:["Container: ",n," fields"]})}),(0,r.jsx)("div",{className:"col-2 px-3",children:(0,r.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(){n<16&&s(n+1)},children:"More"})}),(0,r.jsx)("div",{className:"col-5"})]}),(0,r.jsx)("div",{className:"row pt-3",children:(0,r.jsx)(Fe,{length:n,values:i,size:256,children:e.children})})]})}function Pe(e){return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"row pt-3 text-center border-bottom",children:(0,r.jsx)("h2",{className:"text-center",children:"Interactive Merkle Trees: "})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h3",{className:"text-center",children:"Vector"})}),(0,r.jsx)("div",{className:"row py-4 border-bottom",children:(0,r.jsx)(De,{})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h3",{className:"text-center",children:"List"})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(Ae,{})}),(0,r.jsx)("div",{className:"row pt-3 text-center",children:(0,r.jsx)("h4",{className:"text-center",children:"CONTAINERS"})}),(0,r.jsx)("div",{className:"border-bottom row py-4",children:(0,r.jsx)(Ge,{})})]})}function He(e){var t=e.NUMBER_OF_VALUES,n=c(t),a=(c(n+1),function(t){var n=[],a=c(t),l=a-t,d=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(a);n.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:e.origin,level:"root"})})},"hashtreeroot"));for(var u=1;u<d-1;u++)n.push((0,r.jsx)("div",{id:"treelevel:".concat(u),className:"row row-cols-auto justify-content-around",children:o(Math.pow(2,u),"T",u)},"treelevel:".concat(u)));t>1&&n.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:i(t+l,"","branch")},"hash"));return n.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:s(t,"","leaf")},"leaves")),n}(t));function s(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=8;i<16;i++)s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i+14,type:t,empty:a,level:n,chunkIdx:i,numChunks:8})},"".concat(t,"node").concat(i)));return s}function i(e,a,s){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],c=0;c<e;c++)o.push((0,r.jsx)("div",{id:"".concat(a,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:c+n+14,type:a,empty:i,level:"branch",chunkIdx:c,numChunks:t})},"".concat(a,"node").concat(c)));return o}function o(e,n,a){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=0;o<e;o++)i.push((0,r.jsx)("div",{id:"".concat(n,"node").concat(o),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:o+Math.pow(2,a)+14,type:"",empty:s,level:"intermediate",chunkIdx:o,numChunks:t})},"".concat(n,"node").concat(o)));return i}function c(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:a})})}function qe(e){var t=e.NUMBER_OF_VALUES,n=c(t),a=(c(n+1),function(e){var t=[],n=c(e),a=n-e,l=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(Se.Z,{type:"R",level:"root"})})},"hashtreeroot"));for(var d=1;d<l-1;d++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(d),className:"row row-cols-auto justify-content-around",children:o(Math.pow(2,d),"T",d)},"treelevel:".concat(d)));e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:i(e+a,"","branch")},"hash"));return t.push((0,r.jsx)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:s(e,"","leaf")},"leaves")),t.push((0,r.jsxs)("div",{id:"subtree",className:"row justify-content-around",children:[(0,r.jsx)("div",{className:"col-2"}),(0,r.jsx)("div",{className:"col-10",children:(0,r.jsx)(He,{NUMBER_OF_VALUES:8,origin:12})})]},"subtree")),t}(t));function s(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=[],i=8;i<16;i++)12!=i?s.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(i),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:i,type:t,empty:a,level:n,chunkIdx:i,numChunks:8})},"".concat(t,"node").concat(i))):s.push((0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)("div",{className:"flexbox border-4 border",style:{height:"100%",paddingTop:"100%"}})}));return s}function i(e,a,s){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=[],c=0;c<e;c++)o.push((0,r.jsx)("div",{id:"".concat(a,"node").concat(c),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:c+n,type:a,empty:i,level:"branch",chunkIdx:c,numChunks:t})},"".concat(a,"node").concat(c)));return o}function o(e,n,a){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=0;o<e;o++)i.push((0,r.jsx)("div",{id:"".concat(n,"node").concat(o),className:"col p-1",children:(0,r.jsx)(Se.Z,{idx:o+Math.pow(2,a),type:"",empty:s,level:"intermediate",chunkIdx:o,numChunks:t})},"".concat(n,"node").concat(o)));return i}function c(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}return(0,r.jsx)("div",{className:"container pt-4",children:(0,r.jsx)("div",{className:"row",children:a})})}function Je(e){return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-6 border-end",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Me,{NUMBER_OF_VALUES:4})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(qe,{NUMBER_OF_VALUES:8})})]}),(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Pe,{})})})]})}function We(e){return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-6",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsxs)("div",{className:"col-6",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Me,{NUMBER_OF_VALUES:3})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h3",{className:"text-center",children:"Classic Single-Leaf Inclusion Proofs:"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ue,{NUMBER_OF_VALUES:8})}),(0,r.jsx)("div",{className:"row py-4",children:(0,r.jsx)("h3",{className:"text-center",children:"Multiple-Leaf Proofs a.k.a. Multi-Proofs:"})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Oe,{NUMBER_OF_VALUES:8})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ce,{NUMBER_OF_VALUES:8})})]})]})}var Xe={getpoweroftwoceil:{javascript:"const get_power_of_two_ceil = (x) => {\n        if (x <= 1) {\n            return 1\n        } else if (x == 2) {\n            return 2\n        } else {\n            return 2 * get_power_of_two_ceil(Math.floor((x + 1) / 2))\n        };\n    };\n      ",python:"def get_power_of_two_ceil(x):\n    if x <= 1:\n        return 1\n    elif x == 2:\n        return 2\n    else:\n        return 2 * get_power_of_two_ceil((x + 1) // 2)\n      ",typescript:"function get_power_of_two_ceil(x: number): number {\n      if (x <= 1) {\n          return 1\n      } else if (x == 2) {\n          return 2\n      } else {\n          return 2 * get_power_of_two_ceil(Math.floor((x + 1) / 2))\n      };\n  };\n      "},getpoweroftwofloor:{python:'\n    def get_power_of_two_floor(x: int) -> int:\n        """\n        Get the power of 2 for given input, or the closest lower power of 2 if the input is not a power of 2.\n        The zero case is a placeholder and not used for math with generalized indices.\n        Commonly used for "what power of two makes up the root bit of the generalized index?"\n        Example: 0->1, 1->1, 2->2, 3->2, 4->4, 5->4, 6->4, 7->4, 8->8, 9->8\n        """\n        if x <= 1:\n            return 1\n        if x == 2:\n            return x\n        else:\n            return 2 * get_power_of_two_floor(x // 2)\n    ',javascript:"TODO",typescript:"TODO"},calculate_merkle_root:{python:'\ndef get_generalized_index(typ: SSZType, path: Sequence[Union[int, SSZVariableName]]) -> GeneralizedIndex:\n    """\n    Converts a path (eg. \'[7, "foo", 3]\' for \'x[7].foo[3]\', \'[12, "bar", "__len__"]\' for\n    \'len(x[12].bar)\') into the generalized index representing its position in the Merkle tree.\n    """\n    root = GeneralizedIndex(1)\n    for p in path:\n        assert not issubclass(typ, BasicValue)  # If we descend to a basic type, the path cannot continue further\n        if p == \'__len__\':\n            typ = uint64\n            assert issubclass(typ, (List, ByteList))\n            root = GeneralizedIndex(root * 2 + 1)\n        else:\n            pos, _, _ = get_item_position(typ, p)\n            base_index = (GeneralizedIndex(2) if issubclass(typ, (List, ByteList)) else GeneralizedIndex(1))\n            root = GeneralizedIndex(root * base_index * get_power_of_two_ceil(chunk_count(typ)) + pos)\n            typ = get_elem_type(typ, p)\n    return root\n'},calculate_multi_merkle_root:{python:"\ndef calculate_merkle_root(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex) -> Root:\n    assert len(proof) == get_generalized_index_length(index)\n    for i, h in enumerate(proof):\n        if get_generalized_index_bit(index, i):\n            leaf = hash(h + leaf)\n        else:\n            leaf = hash(leaf + h)\n    return leaf\n",javascript:"TODO"},chunk_count:{python:"\n    def chunk_count(typ: SSZType) -> int:\n        \"\"\"\n        Return the number of hashes needed to represent the top-level elements in the given type\n        (eg. 'x.foo' or 'x[7]' but not 'x[7].bar' or 'x.foo.baz'). In all cases except lists/vectors\n        of basic types, this is simply the number of top-level elements, as each element gets one\n        hash. For lists/vectors of basic types, it is often fewer because multiple basic elements\n        can be packed into one 32-byte chunk.\n        \"\"\"\n        # typ.length describes the limit for list types, or the length for vector types.\n        if issubclass(typ, BasicValue):\n            return 1\n        elif issubclass(typ, Bits):\n            return (typ.length + 255) // 256\n        elif issubclass(typ, Elements):\n            return (typ.length * item_length(typ.elem_type) + 31) // 32\n        elif issubclass(typ, Container):\n            return len(typ.get_fields())\n        else:\n            raise Exception(f\"Type not supported: {typ}\")\n    ",javascript:"TODO",typescript:"TODO"},concat_general_indices:{python:'\n    def concat_generalized_indices(*indices: GeneralizedIndex) -> GeneralizedIndex:\n        """\n        Given generalized indices i1 for A -> B, i2 for B -> C .... i_n for Y -> Z, returns\n        the generalized index for A -> Z.\n        """\n        o = GeneralizedIndex(1)\n        for i in indices:\n            o = GeneralizedIndex(o * get_power_of_two_floor(i) + (i - get_power_of_two_floor(i)))\n        return o\n    ',javascript:"TODO",typescript:"TODO"},generalized_index_parent:{python:"\n    def generalized_index_parent(index: GeneralizedIndex) -> GeneralizedIndex:\n        return GeneralizedIndex(index // 2)\n    ",javascript:"TODO",typescript:"TODO"},generalized_index_sibling:{python:"\n    def generalized_index_sibling(index: GeneralizedIndex) -> GeneralizedIndex:\n        return GeneralizedIndex(index ^ 1)\n    ",javascript:"TODO",typescript:"TODO"},generlized_index_child:{python:"\n    def generalized_index_child(index: GeneralizedIndex, right_side: bool) -> GeneralizedIndex:\n        return GeneralizedIndex(index * 2 + right_side)\n    ",javascript:"TODO",typescript:"TODO"},get_branch_indices:{python:'\n    def get_branch_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of the sister chunks along the path from the chunk with the\n        given tree index to the root.\n        """\n        o = [generalized_index_sibling(tree_index)]\n        while o[-1] > 1:\n            o.append(generalized_index_sibling(generalized_index_parent(o[-1])))\n        return o[:-1]\n    ',javascript:"TODO",typescript:"TODO"},get_elem_type:{python:'\n    def get_elem_type(typ: Union[BaseBytes, BaseList, Container],\n        index_or_variable_name: Union[int, SSZVariableName]) -> SSZType:\n        """\n        Return the type of the element of an object of the given type with the given index\n        or member variable name (eg. \'7\' for \'x[7]\', "foo" for \'x.foo\')\n        """\n        return typ.get_fields()[index_or_variable_name] if issubclass(typ, Container) else typ.elem_type\n    ',javascript:"TODO",typescript:"TODO"},get_generalized_index_bit:{python:'\n    def get_generalized_index_bit(index: GeneralizedIndex, position: int) -> bool:\n        """\n        Return the given bit of a generalized index.\n        """\n        return (index & (1 << position)) > 0\n    ',javascript:"TODO",typescript:"TODO"},get_generalized_index:{python:'\n    def get_generalized_index_length(index: GeneralizedIndex) -> int:\n        """\n        Return the length of a path represented by a generalized index.\n        """\n        return int(log2(index))\n    ',javascript:"TODO",typescript:"TODO"},get_helper_indices:{python:'\n    def get_helper_indices(indices: Sequence[GeneralizedIndex]) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of all "extra" chunks in the tree needed to prove the chunks with the given\n        generalized indices. Note that the decreasing order is chosen deliberately to ensure equivalence to the\n        order of hashes in a regular single-item Merkle proof in the single-item case.\n        """\n        all_helper_indices: Set[GeneralizedIndex] = set()\n        all_path_indices: Set[GeneralizedIndex] = set()\n        for index in indices:\n            all_helper_indices = all_helper_indices.union(set(get_branch_indices(index)))\n            all_path_indices = all_path_indices.union(set(get_path_indices(index)))\n\n        return sorted(all_helper_indices.difference(all_path_indices), reverse=True)\n\n    ',javascript:"TODO",typescript:"TODO"},get_item_position:{python:'\n    def get_item_position(typ: SSZType, index_or_variable_name: Union[int, SSZVariableName]) -> Tuple[int, int, int]:\n        """\n        Return three variables:\n            (i) the index of the chunk in which the given element of the item is represented;\n            (ii) the starting byte position within the chunk;\n            (iii) the ending byte position within the chunk.\n        For example: for a 6-item list of uint64 values, index=2 will return (0, 16, 24), index=5 will return (1, 8, 16)\n        """\n        if issubclass(typ, Elements):\n            index = int(index_or_variable_name)\n            start = index * item_length(typ.elem_type)\n            return start // 32, start % 32, start % 32 + item_length(typ.elem_type)\n        elif issubclass(typ, Container):\n            variable_name = index_or_variable_name\n            return typ.get_field_names().index(variable_name), 0, item_length(get_elem_type(typ, variable_name))\n        else:\n            raise Exception("Only lists/vectors/containers supported")\n    ',javascript:"TODO",typescript:"TODO"},get_path_indices:{python:'\n    def get_path_indices(tree_index: GeneralizedIndex) -> Sequence[GeneralizedIndex]:\n        """\n        Get the generalized indices of the chunks along the path from the chunk with the\n        given tree index to the root.\n        """\n        o = [tree_index]\n        while o[-1] > 1:\n            o.append(generalized_index_parent(o[-1]))\n        return o[:-1]\n    ',javascript:"TODO",typescript:"TODO",item_length:{python:'\n    def item_length(typ: SSZType) -> int:\n    """\n    Return the number of bytes in a basic type, or 32 (a full hash) for compound types.\n    """\n    if issubclass(typ, BasicValue):\n        return typ.byte_len\n    else:\n        return 32\n    ',javascript:"TODO",typescript:"TODO"},merkle_tree:{python:'\n    def merkle_tree(leaves: Sequence[Bytes32]) -> Sequence[Bytes32]:\n    """\n    Return an array representing the tree nodes by generalized index:\n    [0, 1, 2, 3, 4, 5, 6, 7], where each layer is a power of 2. The 0 index is ignored. The 1 index is the root.\n    The result will be twice the size as the padded bottom layer for the input leaves.\n    """\n    bottom_length = get_power_of_two_ceil(len(leaves))\n    o = [Bytes32()] * bottom_length + list(leaves) + [Bytes32()] * (bottom_length - len(leaves))\n    for i in range(bottom_length - 1, 0, -1):\n        o[i] = hash(o[i * 2] + o[i * 2 + 1])\n    return o\n    ',javascript:"TODO",typescript:"TODO"},verify_merkle_multiproof:{python:"\n    def calculate_multi_merkle_root(leaves: Sequence[Bytes32], proof: Sequence[Bytes32], indices: Sequence[GeneralizedIndex]) -> Root:\n        assert len(leaves) == len(indices)\n        helper_indices = get_helper_indices(indices)\n        assert len(proof) == len(helper_indices)\n        objects = {\n            **{index: node for index, node in zip(indices, leaves)},\n            **{index: node for index, node in zip(helper_indices, proof)}\n        }\n        keys = sorted(objects.keys(), reverse=True)\n        pos = 0\n        while pos < len(keys):\n            k = keys[pos]\n            if k in objects and k ^ 1 in objects and k // 2 not in objects:\n                objects[GeneralizedIndex(k // 2)] = hash(\n                    objects[GeneralizedIndex((k | 1) ^ 1)] +\n                    objects[GeneralizedIndex(k | 1)]\n                )\n                keys.append(GeneralizedIndex(k // 2))\n            pos += 1\n        return objects[GeneralizedIndex(1)]\n        ",javascript:"TODO",typescript:"TODO"},verify_merkle_proof:{python:"\n    def verify_merkle_proof(leaf: Bytes32, proof: Sequence[Bytes32], index: GeneralizedIndex, root: Root) -> bool:\n    return calculate_merkle_root(leaf, proof, index) == root\n    ",javascript:"TODO",typescript:"TODO"}}};function Ye(){var e=(0,a.useState)("python"),t=e[0],n=(e[1],(0,a.useState)(Xe.getpoweroftwoceil)),s=n[0],i=n[1],o=(0,a.useState)(Xe.getpoweroftwoceil.python),l=o[0],d=o[1],u=(0,a.useState)(!0),h=(u[0],u[1],(0,a.useState)(Xe)),f=h[0],p=(h[1],(0,a.useState)(f[s])),v=(p[0],p[1],c.iz);return(0,a.useEffect)((function(){d(s.python)}),[s]),console.log(Xe),console.log(typeof Xe),console.log(Object.keys(Xe)),console.log(Object.keys(s)),console.log(typeof Object.keys(Xe)[3]),console.log(typeof Object.keys(s)[1]),(0,r.jsxs)("div",{className:"row",children:[(0,r.jsxs)("div",{className:"col-3",children:[" ",(0,r.jsx)("div",{className:"btn-group-vertical",children:Object.keys(f).map((function(e,t){return(0,r.jsx)("button",{type:"button",onClick:function(){return i(Xe[t=e]),void d(Xe[t].python);var t},className:"btn border btn-light",children:e})}))})]}),(0,r.jsxs)("div",{className:"col-9",children:[(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h4",{children:"python"}),"        ",(0,r.jsx)(c.Z1,{language:t,text:l,showLineNumbers:!1,theme:v,wrapLines:!0,codeBlock:!0})]}),void 0!=s.javascript?(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("h4",{children:"javascript"}),(0,r.jsx)(c.Z1,{language:t,text:s.javascript,showLineNumbers:!1,theme:v,wrapLines:!0,codeBlock:!0})]}):(0,r.jsx)(r.Fragment,{})]})]})}function Ke(e){return(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(i(),{children:e.text})}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)(Ye,{})})]})}function Qe(e){return(0,r.jsxs)("div",{className:"container p-4 text-center",children:[(0,r.jsx)(i(),{children:e.text}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"btn-group"})})]})}function $e(e){return(0,r.jsx)("div",{className:"row mt=4",children:"Typing"==e.topic?(0,r.jsx)(ee,{}):"Overview"==e.topic?(0,r.jsx)(Qe,{text:e.text}):"Aliases"==e.topic?(0,r.jsx)(re,{text:e.text}):"Serialization"==e.topic?(0,r.jsx)(ke,{}):"Merkle_Trees"==e.topic?(0,r.jsx)(Je,{text:e.text}):"Merkle_Proofs"==e.topic?(0,r.jsx)(We,{text:e.text}):"Helper_Functions"==e.topic?(0,r.jsx)(Ke,{text:e.text}):(0,r.jsx)(ee,{})})}function et(e){var t=(0,a.useState)("Overview"),n=t[0],s=t[1],i=(0,a.useState)(e.text[0].data),o=i[0],c=i[1];e.text;return(0,r.jsxs)("div",{className:"container position-relative",children:[(0,r.jsx)("div",{className:"row position-fixed mt-5 fixed-top",children:(0,r.jsx)("div",{className:"col",children:(0,r.jsxs)("ul",{className:"nav bg-light nav-tabs",children:[e.text.map((function(e,t){return(0,r.jsx)("li",{className:"nav-item ",children:(0,r.jsx)("button",{className:"nav-link ".concat(e.topic==n&&"active"),onClick:function(){return s(e.topic)},onMouseUp:function(){return c(e.data)},children:e.topic})},t)})),(0,r.jsx)("li",{children:(0,r.jsx)("h2",{children:"OVERVIEW"})}),(0,r.jsx)("li",{children:(0,r.jsx)("p",{children:"This overview is an explanation and visualization of the Simple-Serialize Merkle-Proof specs. Most of the visualizations are interactive."})})]})})}),(0,r.jsx)("div",{className:"row mt-4"}),(0,r.jsx)("div",{className:"row mt-4",children:(0,r.jsx)("div",{className:"col mt-4 pt-4",children:(0,r.jsx)($e,{topic:n,text:o})})})]})}},37641:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(85893),a=n(36331),s=n(67294);function i(e){var t=(0,s.useState)(0),n=t[0],i=t[1],o=(0,s.useState)(!1),c=o[0],l=o[1],d=(0,s.useState)([]),u=d[0],h=d[1],f=(e.animate,32);function p(e){return n===e}function v(e){return u.includes(e)}var x=64;function m(e){i(n!==e?e:0)}function j(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o="SIMPLE_______SSZ_______SERIALIZE",c=function(e){i.push((0,r.jsx)("div",{onClick:function(){return m("".concat(e))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(a.Z,{idx:o[e-64],type:t,empty:s,level:"intro",chunkIdx:e-64,numChunks:f,selected:p("".concat(e))})},"".concat(t,"node").concat(e)))},l=64;l<96;l++)c(l);return i}function y(e,t,n){for(var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=[],o=function(e){i.push((0,r.jsx)("div",{onClick:function(){return m("".concat(e+f))},id:"".concat(t,"node").concat(e),className:"col p-1",children:(0,r.jsx)(a.Z,{idx:e-x+f,type:t,empty:s,level:n,chunkIdx:e-x+f,numChunks:f,selected:p("".concat(e+f))})},"".concat(t,"node").concat(e)))},c=x;c<x+e;c++)o(c);return i}function b(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=32;o<64;o++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(a.Z,{idx:o,type:t,empty:s,level:n,chunkIdx:o,numChunks:f,active:v(o)})},"".concat(t,"node").concat(o)));return i}function g(e,t,n){for(var s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=[],o=0;o<e;o++)i.push((0,r.jsx)("div",{id:"".concat(t,"node").concat(o),className:"col p-1",children:(0,r.jsx)(a.Z,{idx:o+Math.pow(2,n),type:"",empty:s,level:n,chunkIdx:o,numChunks:f,active:v(o+Math.pow(2,n))})},"".concat(t,"node").concat(o)));return i}return(0,s.useEffect)((function(){var e=new Array(5);if(0!==n){l(!0);e[0]=n%2==0?n-31:n-33;for(var t=0;t<5;t++)Math.floor(e[t]/2)%2==0?e[t+1]=Math.floor(e[t]/2)+1:e[t+1]=Math.floor(e[t]/2)-1;h(e)}else l(!1),h([])}),[n]),function(e){var t=[],n=function(e){if(e<=1)return 1;for(var t=2;t<1/0;){if(e<=t)return t;t*=2}}(e),s=n-e,i=function(e){var t=1;return 1==e?t:t+=Math.log(e)/Math.log(2)}(n);t.push((0,r.jsx)("div",{id:"hashtreeroot",className:"row row-cols-auto justify-content-around",children:(0,r.jsx)("div",{className:"col p-1",children:(0,r.jsx)(a.Z,{type:"R",level:"root",active:c})})},"hashtreeroot"));for(var o=1;o<i-1;o++)t.push((0,r.jsx)("div",{id:"treelevel:".concat(o),className:"row row-cols-auto justify-content-around",children:g(Math.pow(2,o),"T",o)},"treelevel:".concat(o)));return e>1&&t.push((0,r.jsx)("div",{id:"hash",className:"row row-cols-auto justify-content-around",children:b(e+s,"","branch")},"hash")),t.push((0,r.jsxs)("div",{id:"leaves",className:"row row-cols-auto justify-content-around",children:[j(e,"","intro"),y(s,"","leaf",!0)]},"leaves")),t}(32)}},69654:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(809),a=n.n(r),s=n(92447),i=n(64121),o=n(25874),c=n(2323);function l(e){return Math.random()*e|0}function d(){return Math.random()>.5}function u(e){return Array.from({length:e},(function(){return d()}))}function h(e){if((0,o.isNumberUintType)(e))return l(e.byteLength);if((0,o.isBigIntUintType)(e))return function(e){return BigInt(l(e))}(e.byteLength);if((0,o.isBooleanType)(e))return d();if((0,o.isBitVectorType)(e))return u(e.length);if((0,o.isByteVectorType)(e))return function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}(e.length);if((0,o.isBitListType)(e))return u(Math.min(Math.floor(16*Math.random()),e.limit));if((0,o.isListType)(e)){var t=Math.min(Math.floor(16*Math.random()),e.limit);return Array.from({length:t},(function(){return h(e.elementType)}))}if((0,o.isVectorType)(e))return Array.from({length:e.length},(function(){return h(e.elementType)}));if((0,o.isContainerType)(e)){var n={};return Object.entries(e.fields).forEach((function(e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];n[r]=h(a)})),n}}function f(e,t){return c.z[t][e]}function p(e,t){return v.apply(this,arguments)}function v(){return(v=(0,s.Z)(a().mark((function e(t,n){var r,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=f(t,n),s=h(r),e.abrupt("return",s);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},99118:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});n(85893);var r=n(56050),a=n(25874),s=n(2323);(0,s.O)(s.z.altair).concat((0,s.O)(s.z.phase0)).concat((0,s.O)(s.z.prim)).map((function(e){return e.toLowerCase()}));function i(e,t){var n=e,s=n.serialize(t),i=n.hashTreeRoot(t),o=(0,a.isCompositeType)(n)?n.struct_convertToTree(t):new r.Tree(new r.LeafNode(i)),c=(0,a.isContainerType)(n)?n.tree_getSerializedLength(o):n.struct_getSerializedLength(t),l=(0,a.isContainerType)(n)&&n.tree_getPropertyNames(),d=l&&l.map((function(e){return(0,a.isContainerType)(n)&&n.getPropertyGindex(e)})),u=l&&l.map((function(e){return(0,a.isContainerType)(n)&&n.getPropertyType(e)})),h=[],f=(0,a.isContainerType)(n)&&Object.fromEntries(new Map(l&&l.map((function(e,t){var r=n.getPropertyType(e),s=(0,a.isContainerType)(r),i=s?r:null,o=Object.values(r).map((function(e,t){return"number"==typeof e?"".concat(Object.keys(r)[t]," == ").concat(e):""})),c=s?i.tree_getPropertyNames():o,l=c.map((function(e){return s&&[e,i.getPropertyGindex(e)]}));return h.push(l[t]),[e,c]})))),p=(0,a.isContainerType)(n)&&Object.fromEntries(new Map(l.map((function(e,t){var r=n.getPropertyType(e),s=(0,a.isContainerType)(r)?r:null;o.getSubtree(d[t]);return[e,s?s.fields:{}]})))),v=n.fieldInfos,x=(0,a.isContainerType)(n)&&Object.fromEntries(new Map(l.map((function(e,t){return[d[t],e]}))));return{sszType:e,serialized:s,root:i,tree:o,length:c,names:l,gIndices:d,fieldMap:x,nameTypes:f,typeIdx:p,casingMap:v,gTypes:u}}},97529:function(e,t,n){"use strict";var r=n(85893);n(67294);t.Z=function(e){var t=e.name,n=e.value,a=e.textarea;return(0,r.jsxs)("div",{className:"container p-0 m-0",children:[(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("h3",{className:"text-center",children:t.toUpperCase()})}),(0,r.jsx)("div",{className:"form-floating",children:a?(0,r.jsx)("textarea",{className:"form-control",readOnly:!0,value:n||""}):(0,r.jsx)("input",{className:"form-control",type:"text",readOnly:!0,value:n||""})})]})}},10124:function(e,t,n){"use strict";n.d(t,{J:function(){return s}});var r=n(25874),a=n(26622),s={yaml:{parse:function(e,t){return t.fromJson((0,a.x)(e))},dump:function(e,t){return(0,a.E)(t.toJson("number"===typeof e?e.toString():e))}},json:{parse:function(e,t){return t.fromJson(JSON.parse(e))},dump:function(e,t){return JSON.stringify(t.toJson(e),null,2)}},hex:{parse:function(e,t){return t.deserialize((0,r.fromHexString)(e))},dump:function(e,t){return(0,r.toHexString)(t.serialize(e))}}}},89856:function(e,t,n){"use strict";n.d(t,{H:function(){return s},b:function(){return i}});var r=n(25874),a=n(26622);var s={hex:{dump:function(e){return(0,r.toHexString)(e)}},base64:{dump:function(e){return function(e){var t=Array.prototype.map.call(e,(function(e){return String.fromCharCode(e)})).join("");return btoa(t)}(e)}}},i={yaml:{dump:function(e,t){return(0,a.E)(t.toJson("number"===typeof e?e.toString():e))}},json:{dump:function(e,t){return JSON.stringify(t.toJson(e),null,2)}}}},2323:function(e,t,n){"use strict";n.d(t,{z:function(){return u},O:function(){return h}});var r=n(26265),a=n(38347),s=n(99171);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=s.ssz.phase0,l=s.ssz.altair,d=(s.ssz.allForks,(0,a.Z)(s.ssz,["phase0","altair","allForks"])),u={prim:o({},d),phase0:o(o({},c),d),altair:o(o(o({},c),l),d)};function h(e){return Object.keys(e).sort()}},26622:function(e,t,n){"use strict";n.d(t,{E:function(){return a},x:function(){return s}});var r=n(47180);function a(e){return r.ZP.dump(e)}function s(e){return r.ZP.load(e)}}}]);